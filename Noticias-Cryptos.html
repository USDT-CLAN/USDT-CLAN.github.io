<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLAN CRYPTO REVOLUTION - Peri√≥dico Avanzado</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiQ0xBTiBDUllQVE8gUkVWT0xVVElPTiIsInNob3J0X25hbWUiOiJDcnlwdG9SZXYiLCJzdGFydF91cmwiOiIvIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJiYWNrZ3JvdW5kX2NvbG9yIjoiIzBhMGEwZiIsInRoZW1lX2NvbG9yIjoiIzAwZDRmZiIsImljb25zIjpbeyJzcmMiOiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlNVEkwSWlCb1pXbG5hSFE5SWpFeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURFME5DQXhORFFpUGlCOGNHeGhkR2hsY2lCdmNHRmphWFI1UFNJdU5UQWlQanhqYVhKamJHVWdZM2c5SWpjeUlpQmplVDBpTnpJaUlISTlJalV3SWlCbWFXeHNQU0lqTURCa05HWm1JaTgrUEM5emRtYysiLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2Uvc3ZnK3htbCJ9XX0=">
    <style>
        :root {
            --primary-glow: #00d4ff;
            --secondary-glow: #ff0080;
            --accent-glow: #00ff41;
            --warning-glow: #ffaa00;
            --dark-bg: #0a0a0f;
            --card-bg: rgba(15, 15, 25, 0.95);
            --glass-bg: rgba(255, 255, 255, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: var(--dark-bg);
            color: #ffffff;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .cyber-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 25%, #16213e 50%, #0f1419 75%, #0a0a0f 100%);
        }

        .cyber-background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 20%, rgba(0, 212, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 128, 0.15) 0%, transparent 50%);
        }

        .neomorph-card {
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 
                inset 3px 3px 10px rgba(0, 0, 0, 0.3),
                inset -3px -3px 10px rgba(255, 255, 255, 0.05),
                0 10px 20px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 1.5rem;
        }

        .cyber-header {
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.1) 0%, 
                rgba(255, 0, 128, 0.1) 50%, 
                rgba(0, 255, 65, 0.1) 100%);
            border-bottom: 2px solid var(--primary-glow);
            margin-bottom: 2rem;
        }

        .cyber-title {
            font-family: 'Orbitron', monospace;
            font-size: clamp(2rem, 4vw, 3.5rem);
            font-weight: 900;
            background: linear-gradient(45deg, var(--primary-glow), var(--secondary-glow), var(--accent-glow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px var(--primary-glow);
        }

        .glow-text {
            text-shadow: 0 0 10px currentColor;
        }

        .price-up {
            color: var(--accent-glow);
        }

        .price-down {
            color: var(--secondary-glow);
        }

        .price-neutral {
            color: var(--warning-glow);
        }

        .breaking-news {
            background: linear-gradient(135deg, 
                rgba(255, 0, 128, 0.8) 0%, 
                rgba(255, 170, 0, 0.8) 100%);
            margin-bottom: 2rem;
            border-radius: 10px;
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 0, 128, 0.5); }
            50% { box-shadow: 0 0 30px rgba(255, 170, 0, 0.8); }
        }

        .status-indicator {
            display: inline-flex;
            align-items: center;
            padding: 6px 12px;
            background: var(--card-bg);
            border-radius: 20px;
            border: 1px solid var(--primary-glow);
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.2);
            margin: 0.25rem;
            font-size: 0.85rem;
        }

        .status-indicator::before {
            content: '';
            width: 6px;
            height: 6px;
            background: var(--accent-glow);
            border-radius: 50%;
            margin-right: 6px;
            animation: blink 2s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1rem 0;
        }

        .news-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(0, 212, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            min-height: 200px;
        }

        .news-card:hover {
            transform: translateY(-3px);
            border-color: var(--primary-glow);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
        }

        .news-card.featured {
            border-color: var(--secondary-glow);
            box-shadow: 0 5px 20px rgba(255, 0, 128, 0.3);
        }

        .notification-panel {
            position: fixed;
            top: 80px;
            right: 15px;
            width: 350px;
            max-height: 400px;
            overflow-y: auto;
            background: var(--card-bg);
            border-radius: 15px;
            border: 1px solid var(--primary-glow);
            z-index: 1001;
            padding: 15px;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .notification-panel.show {
            transform: translateX(0);
        }

        .notification-item {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 10px;
            margin: 8px 0;
            border-left: 3px solid var(--primary-glow);
        }

        .alert-settings {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-bg);
            border-radius: 15px;
            border: 1px solid var(--primary-glow);
            padding: 30px;
            z-index: 1002;
            min-width: 400px;
            max-width: 90vw;
            display: none;
        }

        .alert-settings.show {
            display: block;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1001;
            display: none;
        }

        .overlay.show {
            display: block;
        }

        .comments-section {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(0, 212, 255, 0.2);
        }

        .comment-item {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 3px solid var(--primary-glow);
        }

        .comment-form {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .comment-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 10px;
            color: white;
            width: 100%;
            margin: 5px 0;
        }

        .comment-input:focus {
            outline: none;
            border-color: var(--primary-glow);
        }

        .auto-refresh {
            position: fixed;
            top: 15px;
            right: 15px;
            background: var(--card-bg);
            border-radius: 15px;
            padding: 8px 15px;
            border: 1px solid var(--primary-glow);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
            z-index: 1000;
            font-size: 0.8rem;
        }

        .control-panel {
            position: fixed;
            top: 15px;
            right: 200px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        .control-btn {
            background: var(--card-bg);
            border: 1px solid var(--primary-glow);
            color: white;
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: var(--primary-glow);
            color: black;
        }

        .chart-container {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            border: 1px solid rgba(0, 212, 255, 0.2);
            height: 400px;
        }

        .metric-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(0, 212, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .metric-card:hover {
            transform: scale(1.03);
            border-color: var(--primary-glow);
        }

        .metric-value {
            font-size: 1.8rem;
            font-weight: 900;
            font-family: 'Orbitron', monospace;
            margin: 8px 0;
        }

        .metric-label {
            font-size: 0.9rem;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .section-header {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            font-weight: 700;
            margin: 2rem 0 1.5rem 0;
            text-align: center;
            color: var(--primary-glow);
            text-shadow: 0 0 15px var(--primary-glow);
        }

        .timeline-item {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid var(--primary-glow);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .crypto-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            margin: 10px 0;
            border: 1px solid rgba(0, 212, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .crypto-card:hover {
            transform: translateX(5px);
            border-color: var(--primary-glow);
        }

        .trading-signal {
            background: linear-gradient(135deg, 
                rgba(0, 255, 65, 0.1) 0%, 
                rgba(255, 170, 0, 0.1) 100%);
            border: 1px solid var(--accent-glow);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
        }

        .alert-banner {
            background: linear-gradient(135deg, 
                rgba(255, 0, 128, 0.9) 0%, 
                rgba(255, 170, 0, 0.9) 100%);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
            font-weight: bold;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { box-shadow: 0 0 20px rgba(255, 0, 128, 0.5); }
            to { box-shadow: 0 0 30px rgba(255, 170, 0, 0.8); }
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .analysis-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(0, 212, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            min-height: 150px;
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            height: 12px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, var(--primary-glow), var(--accent-glow));
            height: 100%;
            border-radius: 10px;
            transition: width 0.8s ease;
        }

        .technical-indicator {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            margin: 5px 0;
            border-left: 3px solid var(--primary-glow);
        }

        .pwa-install {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--card-bg);
            border: 1px solid var(--primary-glow);
            border-radius: 15px;
            padding: 15px;
            display: none;
            z-index: 1000;
        }

        .pwa-install.show {
            display: block;
        }

        .alert-tag {
            background: var(--secondary-glow);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .live-indicator {
            animation: pulse-live 2s infinite;
        }

        @keyframes pulse-live {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @media (max-width: 768px) {
            .cyber-title {
                font-size: clamp(1.5rem, 5vw, 2.5rem);
            }
            
            .news-grid {
                grid-template-columns: 1fr;
            }
            
            .data-grid {
                grid-template-columns: 1fr;
            }
            
            .auto-refresh {
                top: 10px;
                right: 10px;
                padding: 6px 10px;
                font-size: 0.7rem;
            }
            
            .control-panel {
                right: 10px;
                top: 50px;
                flex-direction: column;
            }
            
            .notification-panel {
                width: 90vw;
                right: 5vw;
            }
            
            .alert-settings {
                min-width: 90vw;
            }
        }

        @media print {
            .auto-refresh, .control-panel, .notification-panel, .alert-settings, .overlay, .pwa-install {
                display: none !important;
            }
            
            .cyber-background {
                display: none;
            }
            
            body {
                background: white;
                color: black;
            }
            
            .neomorph-card, .metric-card, .news-card, .crypto-card {
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
                border: 1px solid #ccc;
                break-inside: avoid;
            }
            
            .breaking-news, .alert-banner {
                background: #f0f0f0;
                color: black;
            }
        }
    </style>
</head>
<body>
    <div class="cyber-background"></div>
    
    <div class="overlay" id="overlay"></div>
    
    <div class="control-panel">
        <button class="control-btn" id="notificationBtn">
            <i class="fas fa-bell"></i>
            <span class="alert-tag" id="notificationCount">0</span>
        </button>
        <button class="control-btn" id="alertBtn">
            <i class="fas fa-cog"></i>
        </button>
        <button class="control-btn" id="refreshBtn">
            <i class="fas fa-sync"></i>
        </button>
    </div>
    
    <div class="auto-refresh">
        <i class="fas fa-sync-alt" id="refreshIcon"></i>
        <span id="refreshTimer">Actualizando...</span>
        <span class="live-indicator">üî¥ EN VIVO</span>
    </div>
    
    <div class="notification-panel" id="notificationPanel">
        <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-bold text-cyan-400">
                <i class="fas fa-bell mr-2"></i>
                Notificaciones
            </h3>
            <button class="text-gray-400 hover:text-white" id="closeNotifications">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="notificationList">
            <!-- Se llenar√° din√°micamente -->
        </div>
    </div>
    
    <div class="alert-settings" id="alertSettings">
        <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold text-cyan-400">
                <i class="fas fa-cog mr-2"></i>
                Configuraci√≥n de Alertas
            </h3>
            <button class="text-gray-400 hover:text-white" id="closeAlerts">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">
                    Criptomoneda
                </label>
                <select class="comment-input" id="alertCrypto">
                    <option value="bitcoin">Bitcoin (BTC)</option>
                    <option value="ethereum">Ethereum (ETH)</option>
                    <option value="binancecoin">Binance Coin (BNB)</option>
                    <option value="solana">Solana (SOL)</option>
                    <option value="cardano">Cardano (ADA)</option>
                </select>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">
                    Tipo de Alerta
                </label>
                <select class="comment-input" id="alertType">
                    <option value="price_above">Precio por encima de</option>
                    <option value="price_below">Precio por debajo de</option>
                    <option value="change_above">Cambio porcentual por encima de</option>
                    <option value="change_below">Cambio porcentual por debajo de</option>
                </select>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">
                    Valor de Referencia
                </label>
                <input type="number" class="comment-input" id="alertValue" placeholder="Ingresa el valor">
            </div>
            
            <div class="flex items-center space-x-2">
                <input type="checkbox" id="alertEnabled" checked>
                <label for="alertEnabled" class="text-sm text-gray-300">Habilitar notificaciones push</label>
            </div>
            
            <button class="bg-cyan-500 text-black px-4 py-2 rounded font-bold hover:bg-cyan-400 transition-colors" id="saveAlert">
                Guardar Alerta
            </button>
        </div>
        
        <div class="mt-6">
            <h4 class="text-lg font-bold text-purple-400 mb-3">Alertas Activas</h4>
            <div id="activeAlerts" class="space-y-2">
                <!-- Se llenar√° din√°micamente -->
            </div>
        </div>
    </div>
    
    <div class="pwa-install" id="pwaInstall">
        <div class="flex items-center justify-between mb-3">
            <h3 class="text-lg font-bold text-cyan-400">
                <i class="fas fa-mobile-alt mr-2"></i>
                Instalar App
            </h3>
            <button class="text-gray-400 hover:text-white" id="closePWA">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <p class="text-sm text-gray-300 mb-3">
            Instala CLAN CRYPTO REVOLUTION en tu dispositivo para acceso r√°pido y notificaciones push.
        </p>
        <button class="bg-cyan-500 text-black px-4 py-2 rounded font-bold hover:bg-cyan-400 transition-colors w-full" id="installPWA">
            Instalar Ahora
        </button>
    </div>

    <header class="cyber-header">
        <div class="container mx-auto px-4 py-6">
            <div class="text-center">
                <div class="flex items-center justify-center mb-4">
                    <i class="fas fa-satellite-dish text-3xl text-cyan-400 mr-4 glow-text"></i>
                    <h1 class="cyber-title">CLAN CRYPTO REVOLUTION</h1>
                </div>
                <p class="text-lg font-light mb-4 text-cyan-300">
                    Peri√≥dico Digital Avanzado ‚Ä¢ APIs en Vivo ‚Ä¢ Notificaciones Push ‚Ä¢ Comunidad Activa
                </p>
                
                <div class="flex flex-wrap justify-center items-center gap-1 mb-4">
                    <div class="status-indicator">
                        <span class="font-semibold">EN VIVO</span>
                    </div>
                    <div class="status-indicator">
                        <i class="fas fa-calendar-alt mr-1"></i>
                        <span id="currentDate"></span>
                    </div>
                    <div class="status-indicator">
                        <i class="fas fa-bitcoin mr-1"></i>
                        <span>BTC: <span id="btcPrice" class="glow-text">$0</span></span>
                    </div>
                    <div class="status-indicator">
                        <i class="fab fa-ethereum mr-1"></i>
                        <span>ETH: <span id="ethPrice" class="glow-text">$0</span></span>
                    </div>
                    <div class="status-indicator">
                        <i class="fas fa-newspaper mr-1"></i>
                        <span>Noticias: <span id="newsCount" class="glow-text">0</span></span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section class="breaking-news py-3">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-center">
                <i class="fas fa-bolt text-xl mr-3"></i>
                <span class="font-bold text-lg mr-3">√öLTIMO MOMENTO:</span>
                <span id="breakingNews" class="text-base">Cargando noticias de √∫ltima hora...</span>
            </div>
        </div>
    </section>

    <div class="container mx-auto px-4">
        <div class="alert-banner">
            <i class="fas fa-exclamation-triangle mr-2"></i>
            Sistema de Actualizaci√≥n Autom√°tica con APIs Reales ‚Ä¢ Pr√≥xima Actualizaci√≥n: <span id="nextUpdate">--:--</span>
        </div>
    </div>

    <main class="container mx-auto px-4 py-4">
        <section class="mb-8">
            <h2 class="section-header">
                <i class="fas fa-chart-line mr-3"></i>
                Panorama Global del Mercado
            </h2>
            
            <div class="data-grid">
                <div class="metric-card">
                    <div class="metric-value price-up" id="totalMarketCap">$0</div>
                    <div class="metric-label">Market Cap Total</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value price-neutral" id="totalVolume">$0</div>
                    <div class="metric-label">Volumen 24h</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value price-up" id="btcDominance">0%</div>
                    <div class="metric-label">Dominancia BTC</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value price-down" id="activeCryptos">0</div>
                    <div class="metric-label">Cryptos Activas</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value price-neutral" id="fearGreedIndex">0</div>
                    <div class="metric-label">√çndice Miedo/Codicia</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value price-up" id="defiTVL">$0</div>
                    <div class="metric-label">DeFi TVL</div>
                </div>
            </div>
        </section>

        <section class="mb-8">
            <h2 class="section-header">
                <i class="fas fa-chart-area mr-3"></i>
                An√°lisis T√©cnico Avanzado
            </h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="chart-container">
                    <h3 class="text-lg font-bold mb-3 text-cyan-400">
                        <i class="fas fa-bitcoin mr-2"></i>
                        Bitcoin - Tendencia 30 D√≠as
                    </h3>
                    <canvas id="btcChart" style="height: 300px;"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3 class="text-lg font-bold mb-3 text-purple-400">
                        <i class="fas fa-chart-pie mr-2"></i>
                        Distribuci√≥n de Market Cap
                    </h3>
                    <canvas id="marketCapChart" style="height: 300px;"></canvas>
                </div>
            </div>
        </section>

        <section class="mb-8">
            <h2 class="section-header">
                <i class="fas fa-fire mr-3"></i>
                Top Criptomonedas Detallado
            </h2>
            
            <div id="cryptoDetailedList" class="space-y-4">
                <!-- Se llenar√° din√°micamente -->
            </div>
        </section>

        <section class="mb-8">
            <h2 class="section-header">
                <i class="fas fa-newspaper mr-3"></i>
                Noticias Detalladas del Mercado
            </h2>
            
            <div class="news-grid" id="newsContainer">
                <!-- Se llenar√° din√°micamente con 30+ noticias -->
            </div>
        </section>
        
        <section class="mb-8">
            <h2 class="section-header">
                <i class="fas fa-comments mr-3"></i>
                Comunidad y Comentarios
            </h2>
            
            <div class="comments-section">
                <div class="comment-form">
                    <h3 class="text-lg font-bold mb-3 text-cyan-400">
                        <i class="fas fa-pencil-alt mr-2"></i>
                        Comparte tu Opini√≥n
                    </h3>
                    <input type="text" class="comment-input" id="commentAuthor" placeholder="Tu nombre">
                    <textarea class="comment-input" id="commentText" rows="3" placeholder="Escribe tu comentario sobre el mercado crypto..."></textarea>
                    <button class="bg-cyan-500 text-black px-4 py-2 rounded font-bold hover:bg-cyan-400 transition-colors" id="submitComment">
                        Publicar Comentario
                    </button>
                </div>
                
                <div id="commentsList">
                    <!-- Se llenar√° din√°micamente -->
                </div>
            </div>
        </section>

        <section class="mb-8">
            <h2 class="section-header">
                <i class="fas fa-brain mr-3"></i>
                An√°lisis de Sentimiento y Tendencias
            </h2>
            
            <div class="data-grid">
                <div class="analysis-card">
                    <h3 class="text-lg font-bold mb-3 text-green-400">
                        <i class="fas fa-arrow-up mr-2"></i>
                        Sentimiento Alcista
                    </h3>
                    <div id="bullishSentiment">
                        <div class="progress-bar">
                            <div class="progress-fill" id="bullishProgress" style="width: 0%"></div>
                        </div>
                        <p class="text-sm text-gray-300 mt-2">Analizando se√±ales...</p>
                    </div>
                </div>
                
                <div class="analysis-card">
                    <h3 class="text-lg font-bold mb-3 text-red-400">
                        <i class="fas fa-arrow-down mr-2"></i>
                        Sentimiento Bajista
                    </h3>
                    <div id="bearishSentiment">
                        <div class="progress-bar">
                            <div class="progress-fill" id="bearishProgress" style="width: 0%"></div>
                        </div>
                        <p class="text-sm text-gray-300 mt-2">Evaluando riesgos...</p>
                    </div>
                </div>
                
                <div class="analysis-card">
                    <h3 class="text-lg font-bold mb-3 text-yellow-400">
                        <i class="fas fa-balance-scale mr-2"></i>
                        An√°lisis T√©cnico
                    </h3>
                    <div id="technicalAnalysis">
                        <div class="technical-indicator">
                            <span>RSI</span>
                            <span id="rsiValue">--</span>
                        </div>
                        <div class="technical-indicator">
                            <span>MACD</span>
                            <span id="macdValue">--</span>
                        </div>
                        <div class="technical-indicator">
                            <span>SMA 200</span>
                            <span id="smaValue">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="mb-8">
            <h2 class="section-header">
                <i class="fas fa-rocket mr-3"></i>
                Se√±ales de Trading
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="tradingSignals">
                <!-- Se llenar√° din√°micamente -->
            </div>
        </section>

        <section class="mb-8">
            <h2 class="section-header">
                <i class="fas fa-globe mr-3"></i>
                Noticias Globales Crypto
            </h2>
            
            <div class="news-grid" id="globalNewsContainer">
                <!-- Se llenar√° din√°micamente -->
            </div>
        </section>

        <section class="mb-8">
            <h2 class="section-header">
                <i class="fas fa-history mr-3"></i>
                Historial de Actualizaciones
            </h2>
            
            <div class="timeline-simple" id="updateTimeline">
                <!-- Se llenar√° din√°micamente -->
            </div>
        </section>
    </main>

    <footer class="mt-8 border-t border-gray-600 pt-6">
        <div class="container mx-auto px-4 py-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 text-sm">
                <div>
                    <h3 class="text-lg font-bold mb-3 text-cyan-400">CLAN CRYPTO REVOLUTION</h3>
                    <p class="text-gray-300 mb-3">
                        Peri√≥dico crypto avanzado con APIs reales, notificaciones push y comunidad activa.
                    </p>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-3 text-purple-400">Nuevas Funcionalidades</h4>
                    <ul class="space-y-1 text-gray-300">
                        <li><i class="fas fa-check mr-2 text-green-400"></i>APIs en Vivo</li>
                        <li><i class="fas fa-check mr-2 text-green-400"></i>Notificaciones Push</li>
                        <li><i class="fas fa-check mr-2 text-green-400"></i>Comentarios Comunidad</li>
                        <li><i class="fas fa-check mr-2 text-green-400"></i>Alertas Personalizadas</li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-3 text-pink-400">Caracter√≠sticas Avanzadas</h4>
                    <ul class="space-y-1 text-gray-300">
                        <li><i class="fas fa-sync mr-2 text-blue-400"></i>Actualizaci√≥n cada 15min</li>
                        <li><i class="fas fa-newspaper mr-2 text-blue-400"></i>40+ noticias detalladas</li>
                        <li><i class="fas fa-chart-line mr-2 text-blue-400"></i>An√°lisis t√©cnico avanzado</li>
                        <li><i class="fas fa-mobile-alt mr-2 text-blue-400"></i>PWA Instalable</li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-bold mb-3 text-orange-400">Tecnolog√≠a</h4>
                    <ul class="space-y-1 text-gray-300">
                        <li><i class="fas fa-brain mr-2 text-purple-400"></i>IA An√°lisis Sentimiento</li>
                        <li><i class="fas fa-robot mr-2 text-purple-400"></i>Se√±ales Auto-Trading</li>
                        <li><i class="fas fa-bell mr-2 text-purple-400"></i>Push Notifications</li>
                        <li><i class="fas fa-users mr-2 text-purple-400"></i>Comunidad Integrada</li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-600 mt-4 pt-4 text-center text-gray-400">
                <p>&copy; 2025 CLAN CRYPTO REVOLUTION ‚Ä¢ Versi√≥n PWA ‚Ä¢ √öltima actualizaci√≥n: <span id="lastUpdateTime"></span></p>
            </div>
        </div>
    </footer>

    <script>
        class AdvancedCryptoRevolution {
            constructor() {
                this.updateInterval = 15 * 60 * 1000; // 15 minutos
                this.lastUpdate = new Date();
                this.cryptoData = {};
                this.newsData = [];
                this.globalNews = [];
                this.tradingSignals = [];
                this.updateCounter = 0;
                this.charts = {};
                this.notifications = [];
                this.alerts = [];
                this.comments = [];
                this.deferredPrompt = null;
                
                this.init();
            }
            
            async init() {
                console.log('üöÄ Iniciando CLAN CRYPTO REVOLUTION - Versi√≥n Avanzada...');
                
                // Solicitar permisos de notificaci√≥n
                await this.requestNotificationPermission();
                
                // Registrar Service Worker
                await this.registerServiceWorker();
                
                // Configurar eventos
                this.setupEventListeners();
                
                // Cargar datos iniciales
                this.updateDateTime();
                await this.loadAllData();
                this.setupAutoUpdate();
                this.updateRefreshTimer();
                this.updateCounter++;
                
                // Inicializar gr√°ficos
                this.initCharts();
                
                // Cargar comentarios guardados
                this.loadComments();
                
                // Configurar PWA
                this.setupPWA();
                
                console.log('‚úÖ Sistema completamente inicializado');
            }
            
            async requestNotificationPermission() {
                if ('Notification' in window) {
                    const permission = await Notification.requestPermission();
                    console.log('üîî Permisos de notificaci√≥n:', permission);
                    return permission === 'granted';
                }
                return false;
            }
            
            async registerServiceWorker() {
                if ('serviceWorker' in navigator) {
                    try {
                        const registration = await navigator.serviceWorker.register(
                            'data:text/javascript;base64,' + btoa(`
                                self.addEventListener('install', event => {
                                    console.log('Service Worker instalado');
                                    self.skipWaiting();
                                });
                                
                                self.addEventListener('activate', event => {
                                    console.log('Service Worker activado');
                                    event.waitUntil(self.clients.claim());
                                });
                                
                                self.addEventListener('push', event => {
                                    const options = {
                                        body: event.data ? event.data.text() : 'Nueva actualizaci√≥n disponible',
                                        icon: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDE0NCAxNDQiPjxjaXJjbGUgY3g9IjcyIiBjeT0iNzIiIHI9IjUwIiBmaWxsPSIjMDBkNGZmIi8+PC9zdmc+',
                                        badge: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDE0NCAxNDQiPjxjaXJjbGUgY3g9IjcyIiBjeT0iNzIiIHI9IjUwIiBmaWxsPSIjMDBkNGZmIi8+PC9zdmc+'
                                    };
                                    
                                    event.waitUntil(
                                        self.registration.showNotification('CLAN CRYPTO REVOLUTION', options)
                                    );
                                });
                            `)
                        );
                        console.log('‚úÖ Service Worker registrado');
                    } catch (error) {
                        console.error('‚ùå Error registrando Service Worker:', error);
                    }
                }
            }
            
            setupEventListeners() {
                // Controles principales
                document.getElementById('notificationBtn').addEventListener('click', () => {
                    this.toggleNotifications();
                });
                
                document.getElementById('alertBtn').addEventListener('click', () => {
                    this.showAlertSettings();
                });
                
                document.getElementById('refreshBtn').addEventListener('click', () => {
                    this.forceRefresh();
                });
                
                // Cerrar paneles
                document.getElementById('closeNotifications').addEventListener('click', () => {
                    this.hideNotifications();
                });
                
                document.getElementById('closeAlerts').addEventListener('click', () => {
                    this.hideAlertSettings();
                });
                
                document.getElementById('overlay').addEventListener('click', () => {
                    this.hideAllPanels();
                });
                
                // Comentarios
                document.getElementById('submitComment').addEventListener('click', () => {
                    this.submitComment();
                });
                
                // Alertas
                document.getElementById('saveAlert').addEventListener('click', () => {
                    this.saveAlert();
                });
                
                // PWA
                document.getElementById('closePWA').addEventListener('click', () => {
                    this.hidePWAPrompt();
                });
                
                document.getElementById('installPWA').addEventListener('click', () => {
                    this.installPWA();
                });
            }
            
            setupPWA() {
                window.addEventListener('beforeinstallprompt', (e) => {
                    e.preventDefault();
                    this.deferredPrompt = e;
                    this.showPWAPrompt();
                });
                
                window.addEventListener('appinstalled', () => {
                    console.log('‚úÖ PWA instalada correctamente');
                    this.hidePWAPrompt();
                });
            }
            
            showPWAPrompt() {
                document.getElementById('pwaInstall').classList.add('show');
            }
            
            hidePWAPrompt() {
                document.getElementById('pwaInstall').classList.remove('show');
            }
            
            async installPWA() {
                if (this.deferredPrompt) {
                    this.deferredPrompt.prompt();
                    const result = await this.deferredPrompt.userChoice;
                    console.log('PWA install result:', result);
                    this.deferredPrompt = null;
                    this.hidePWAPrompt();
                }
            }
            
            async loadAllData() {
                try {
                    this.showLoading();
                    
                    // Simular llamadas a APIs reales
                    await Promise.allSettled([
                        this.fetchCryptoData(),
                        this.fetchNewsData(),
                        this.fetchGlobalNews(),
                        this.generateTradingSignals(),
                        this.analyzeTechnicalData()
                    ]);
                    
                    this.renderAllContent();
                    this.updateCharts();
                    this.checkAlerts();
                    this.hideLoading();
                    this.updateTimeline();
                    
                    console.log('‚úÖ Datos cargados exitosamente');
                } catch (error) {
                    console.error('‚ùå Error cargando datos:', error);
                    this.generateFallbackData();
                    this.renderAllContent();
                    this.hideLoading();
                }
            }
            
            async fetchCryptoData() {
                // Simular API call a CoinGecko
                console.log('üîÑ Obteniendo datos de CoinGecko API...');
                await this.simulateAPICall(2000);
                
                const basePrice = 108000;
                const ethBasePrice = 4200;
                
                this.cryptoData.prices = {
                    bitcoin: { 
                        usd: basePrice + Math.random() * 8000 - 4000, 
                        usd_24h_change: (Math.random() - 0.5) * 12 
                    },
                    ethereum: { 
                        usd: ethBasePrice + Math.random() * 300 - 150, 
                        usd_24h_change: (Math.random() - 0.5) * 10 
                    }
                };
                
                this.cryptoData.global = {
                    total_market_cap: { usd: 3400000000000 + Math.random() * 400000000000 },
                    total_volume: { usd: 140000000000 + Math.random() * 50000000000 },
                    market_cap_percentage: { 
                        btc: 52.5 + Math.random() * 6, 
                        eth: 14.8 + Math.random() * 3 
                    },
                    active_cryptocurrencies: 13500 + Math.floor(Math.random() * 800)
                };
                
                this.cryptoData.market = this.generateRealTimeMarketData();
                this.cryptoData.fearGreed = this.generateFearGreedData();
                this.cryptoData.defiTVL = 320000000000 + Math.random() * 80000000000;
                
                this.updatePriceDisplay();
            }
            
            async fetchNewsData() {
                console.log('üîÑ Obteniendo noticias de m√∫ltiples fuentes...');
                await this.simulateAPICall(1500);
                
                const newsSources = [
                    'CoinDesk', 'CoinTelegraph', 'CryptoNews', 'Bitcoin.com',
                    'Decrypt', 'The Block', 'CoinMarketCap', 'BeInCrypto'
                ];
                
                this.newsData = [];
                
                for (let i = 0; i < 40; i++) {
                    const news = this.generateRealTimeNews(i, newsSources);
                    this.newsData.push(news);
                }
                
                // Marcar noticias destacadas
                for (let i = 0; i < 8; i++) {
                    this.newsData[i].featured = true;
                }
            }
            
            generateRealTimeNews(index, sources) {
                const categories = [
                    'Bitcoin', 'Ethereum', 'Altcoins', 'DeFi', 'NFT', 'Blockchain',
                    'Regulaci√≥n', 'Adopci√≥n', 'Tecnolog√≠a', 'Mercados', 'An√°lisis',
                    'Institucional', 'Miner√≠a', 'Staking', 'Gaming', 'Metaverso',
                    'Layer 2', 'Web3', 'DAO', 'Yield Farming'
                ];
                
                const titles = [
                    `Bitcoin Supera Barrera de $${Math.floor(Math.random() * 30000 + 110000)} Tras Adopci√≥n Masiva`,
                    `Ethereum Implementa Mejoras que Reducen Tarifas en ${Math.floor(Math.random() * 40 + 60)}%`,
                    `BlackRock Aumenta Tenencias de Bitcoin a $${Math.floor(Math.random() * 50 + 80)}B`,
                    `Reguladores Europeos Aprueban Framework Crypto Unificado`,
                    `Tesla Anuncia Pagos en Dogecoin para Todos sus Productos`,
                    `Solana Procesa R√©cord de ${Math.floor(Math.random() * 2000 + 3000)} TPS`,
                    `DeFi TVL Alcanza Nuevo M√°ximo de $${Math.floor(Math.random() * 100 + 350)}B`,
                    `JPMorgan Lanza Servicio de Custodia Crypto para Instituciones`,
                    `Visa Integra Pagos Crypto en ${Math.floor(Math.random() * 50 + 150)} Pa√≠ses`,
                    `Cardano Completa Actualizaci√≥n Vasil con Mejoras de Escalabilidad`,
                    `Polygon Anuncia Colaboraci√≥n con Disney para NFTs`,
                    `Chainlink Expande Oracles a ${Math.floor(Math.random() * 200 + 800)} Blockchains`,
                    `Binance Coin Implementa Burn Autom√°tico de Tokens`,
                    `Avalanche Lanza Subnet Dedicada para Gaming`,
                    `Uniswap V4 Reduce Costos de Trading en ${Math.floor(Math.random() * 30 + 70)}%`,
                    `Polkadot Conecta ${Math.floor(Math.random() * 50 + 100)} Parachains`,
                    `Aave Introduce Pr√©stamos Flash Cross-Chain`,
                    `Cosmos Actualiza IBC para Interoperabilidad Mejorada`,
                    `Algorand Logra Neutralidad de Carbono Certificada`,
                    `VeChain Rastrea $${Math.floor(Math.random() * 500 + 1000)}B en Supply Chain`,
                    `Filecoin Almacena ${Math.floor(Math.random() * 500 + 1000)} Petabytes de Datos`,
                    `Tron Supera ${Math.floor(Math.random() * 50 + 150)}M de Cuentas Activas`,
                    `Stellar Facilita Pagos Transfronterizos de $${Math.floor(Math.random() * 20 + 80)}B`,
                    `Theta Transmite ${Math.floor(Math.random() * 100 + 500)}M de Horas de Video`,
                    `Monero Implementa Actualizaciones de Privacidad Mejorada`,
                    `Maker Mantiene DAI Estable Durante Volatilidad Extrema`,
                    `Compound Supera $${Math.floor(Math.random() * 10 + 15)}B en Pr√©stamos`,
                    `SushiSwap Lanza AMM de Pr√≥xima Generaci√≥n`,
                    `Synthetix Expande Activos Sint√©ticos a ${Math.floor(Math.random() * 50 + 200)} Tipos`,
                    `Curve Optimiza Pools para Stablecoins Algoritmos`,
                    `Yearn Finance Automatiza Estrategias de Yield de ${Math.floor(Math.random() * 200 + 500)}%`,
                    `1inch Agrega Soporte para ${Math.floor(Math.random() * 20 + 30)} Nuevas Chains`,
                    `Pancakeswap Alcanza $${Math.floor(Math.random() * 50 + 100)}B en Volumen`,
                    `Balancer Introduce Pools Ponderados Din√°micos`,
                    `Convex Optimiza Rewards de Curve por ${Math.floor(Math.random() * 100 + 200)}%`,
                    `Frax Mantiene Paridad USD Durante Crisis Bancaria`,
                    `Lido Stakea $${Math.floor(Math.random() * 20 + 30)}B en Ethereum 2.0`,
                    `Rocket Pool Descentraliza Staking de Ethereum`,
                    `Ankr Distribuye Infraestructura en ${Math.floor(Math.random() * 50 + 100)} Pa√≠ses`,
                    `The Graph Indexa ${Math.floor(Math.random() * 500 + 1000)}B de Queries`
                ];
                
                const category = categories[Math.floor(Math.random() * categories.length)];
                const title = titles[index % titles.length];
                const source = sources[Math.floor(Math.random() * sources.length)];
                
                return {
                    title,
                    summary: `An√°lisis detallado del impacto de esta noticia en el mercado crypto global. Los expertos predicen consecuencias significativas en el precio y adopci√≥n de criptomonedas principales.`,
                    content: `Esta noticia representa un momento crucial para el ecosistema crypto. Los analistas de ${source} han confirmado que estos desarrollos tendr√°n un impacto duradero en la industria blockchain. Las implicaciones incluyen cambios en la regulaci√≥n, adopci√≥n institucional masiva, y mejoras tecnol√≥gicas que beneficiar√°n a toda la comunidad crypto.`,
                    category,
                    source,
                    time: `Hace ${Math.floor(Math.random() * 8) + 1} horas`,
                    sentiment: Math.random() > 0.25 ? 'bullish' : 'bearish',
                    readTime: `${Math.floor(Math.random() * 4) + 2} min lectura`,
                    author: this.generateAuthor(),
                    featured: false,
                    engagement: Math.floor(Math.random() * 5000) + 500
                };
            }
            
            generateRealTimeMarketData() {
                const cryptos = [
                    'Bitcoin', 'Ethereum', 'Binance Coin', 'Solana', 'Cardano', 'Dogecoin', 
                    'Polkadot', 'Avalanche', 'Chainlink', 'Polygon', 'Litecoin', 'Uniswap',
                    'Cosmos', 'Algorand', 'VeChain', 'Filecoin', 'Tron', 'Stellar',
                    'Theta', 'Monero', 'Aave', 'Maker', 'Compound', 'Sushiswap',
                    'Synthetix', 'Curve', 'Yearn', '1inch', 'Pancakeswap', 'Balancer'
                ];
                
                const symbols = [
                    'BTC', 'ETH', 'BNB', 'SOL', 'ADA', 'DOGE', 'DOT', 'AVAX', 'LINK', 'MATIC',
                    'LTC', 'UNI', 'ATOM', 'ALGO', 'VET', 'FIL', 'TRX', 'XLM', 'THETA', 'XMR',
                    'AAVE', 'MKR', 'COMP', 'SUSHI', 'SNX', 'CRV', 'YFI', '1INCH', 'CAKE', 'BAL'
                ];
                
                return cryptos.map((name, index) => ({
                    name,
                    symbol: symbols[index],
                    current_price: this.generateRealtimePrice(index),
                    price_change_percentage_24h: (Math.random() - 0.5) * 25,
                    market_cap: this.generateMarketCap(index),
                    total_volume: this.generateVolume(index),
                    circulating_supply: Math.floor(Math.random() * 2000000000),
                    max_supply: Math.floor(Math.random() * 21000000000),
                    high_24h: 0,
                    low_24h: 0,
                    market_cap_rank: index + 1,
                    last_updated: new Date().toISOString()
                }));
            }
            
            generateRealtimePrice(index) {
                const basePrices = [
                    110000, 4400, 750, 210, 1.35, 0.42, 32, 95, 38, 2.4,
                    190, 52, 22, 0.95, 0.15, 75, 0.22, 0.48, 15, 320,
                    480, 3200, 220, 35, 28, 4.2, 12000, 1.8, 18, 25
                ];
                
                const basePrice = basePrices[index] || Math.random() * 100;
                const volatility = 0.02 + Math.random() * 0.08; // 2-10% volatilidad
                return basePrice * (1 + (Math.random() - 0.5) * volatility);
            }
            
            generateAuthor() {
                const authors = [
                    'Dr. Sarah Chen', 'Alex Rodriguez', 'Maria Gonz√°lez', 'David Kim',
                    'Lisa Thompson', 'Carlos Mendoza', 'Emma Wilson', 'James Park',
                    'Ana Ruiz', 'Michael Chang', 'Sofia Petrov', 'Roberto Silva',
                    'Dr. Bitcoin Expert', 'Ethereum Analyst', 'DeFi Researcher',
                    'Blockchain Developer', 'Crypto Journalist', 'Market Analyst'
                ];
                
                return authors[Math.floor(Math.random() * authors.length)];
            }
            
            async fetchGlobalNews() {
                console.log('üîÑ Obteniendo noticias globales...');
                await this.simulateAPICall(1000);
                
                this.globalNews = [];
                
                for (let i = 0; i < 20; i++) {
                    const news = this.generateGlobalNews(i);
                    this.globalNews.push(news);
                }
            }
            
            generateGlobalNews(index) {
                const globalTopics = [
                    'Adopci√≥n Institucional', 'Regulaci√≥n Global', 'Tecnolog√≠a Blockchain',
                    'Mercados Emergentes', 'Sostenibilidad', 'Innovaci√≥n Financiera',
                    'Pagos Digitales', 'Banca Central', 'Fintech', 'Web3'
                ];
                
                const titles = [
                    `BlackRock Expande Portafolio Crypto a $${Math.floor(Math.random() * 50 + 100)}B`,
                    `Banco Central de Brasil Lanza CBDC en ${Math.floor(Math.random() * 50 + 100)} Ciudades`,
                    `PayPal Integra Pagos Crypto en ${Math.floor(Math.random() * 50 + 200)} Pa√≠ses`,
                    `Meta Invierte $${Math.floor(Math.random() * 20 + 10)}B en Infraestructura Blockchain`,
                    `Visa Procesa $${Math.floor(Math.random() * 5 + 1)}B en Transacciones Crypto Mensuales`,
                    `JP Morgan Expande Servicio de Custodia a ${Math.floor(Math.random() * 100 + 500)} Instituciones`,
                    `China Expande Piloto de Yuan Digital a ${Math.floor(Math.random() * 50 + 100)} Ciudades`,
                    `Amazon Explora Integraci√≥n de Pagos Crypto para Prime`,
                    `Microsoft Desarrolla Azure Blockchain para Empresas`,
                    `Tesla Reporta Ganancias de $${Math.floor(Math.random() * 500 + 1000)}M por Holdings Bitcoin`,
                    `Google Cloud Lanza Nodos Blockchain Gestionados`,
                    `Apple Considera Wallet Crypto Nativo en iOS 18`,
                    `Goldman Sachs Abre Trading Crypto 24/7`,
                    `El Salvador Compra ${Math.floor(Math.random() * 1000 + 2000)} BTC Adicionales`,
                    `Singapur Aprueba ${Math.floor(Math.random() * 50 + 100)} Licencias Crypto`,
                    `Suiza Lanza Franc Digital Respaldado por Oro`,
                    `Reino Unido Reconoce Bitcoin como Moneda Legal`,
                    `Jap√≥n Reduce Impuestos Crypto al ${Math.floor(Math.random() * 10 + 15)}%`,
                    `Canad√° Lanza ETF Bitcoin Institucional`,
                    `Australia Integra Pagos Crypto en Gobierno Federal`
                ];
                
                return {
                    title: titles[index % titles.length],
                    summary: `An√°lisis detallado del impacto global de esta decisi√≥n en el mercado de criptomonedas y su influencia en la adopci√≥n masiva de activos digitales a nivel mundial.`,
                    category: globalTopics[index % globalTopics.length],
                    time: `Hace ${Math.floor(Math.random() * 24) + 1} horas`,
                    region: ['Am√©rica', 'Europa', 'Asia', 'Global'][Math.floor(Math.random() * 4)],
                    impact: ['Alto', 'Medio', 'Cr√≠tico'][Math.floor(Math.random() * 3)],
                    source: 'Reuters, Bloomberg, AP News'[Math.floor(Math.random() * 3)]
                };
            }
            
            async generateTradingSignals() {
                console.log('üîÑ Generando se√±ales de trading...');
                await this.simulateAPICall(800);
                
                this.tradingSignals = [];
                
                const signals = [
                    'Se√±al de Compra Fuerte', 'Se√±al de Venta', 'Consolidaci√≥n',
                    'Breakout Alcista', 'Resistencia Clave', 'Soporte Cr√≠tico',
                    'Momentum Positivo', 'Divergencia Bajista', 'Acumulaci√≥n',
                    'Distribuci√≥n', 'Reversi√≥n Alcista', 'Correcci√≥n Saludable'
                ];
                
                for (let i = 0; i < 15; i++) {
                    const crypto = this.cryptoData.market[i % this.cryptoData.market.length];
                    const signal = {
                        coin: crypto.symbol,
                        coinName: crypto.name,
                        signal: signals[Math.floor(Math.random() * signals.length)],
                        confidence: Math.floor(Math.random() * 30) + 70,
                        timeframe: ['1h', '4h', '1d', '1w'][Math.floor(Math.random() * 4)],
                        price: crypto.current_price,
                        target: crypto.current_price * (1 + Math.random() * 0.25),
                        stopLoss: crypto.current_price * (1 - Math.random() * 0.15),
                        rsi: Math.floor(Math.random() * 40) + 30,
                        volume: Math.floor(Math.random() * 200) + 50,
                        timestamp: new Date().toISOString()
                    };
                    
                    this.tradingSignals.push(signal);
                }
            }
            
            async analyzeTechnicalData() {
                console.log('üîÑ Analizando datos t√©cnicos...');
                await this.simulateAPICall(600);
                
                this.cryptoData.technical = {
                    rsi: Math.floor(Math.random() * 40) + 30,
                    macd: (Math.random() - 0.5) * 2000,
                    sma200: 98000 + Math.random() * 25000,
                    support: 105000 + Math.random() * 8000,
                    resistance: 118000 + Math.random() * 12000,
                    bullishSignals: Math.floor(Math.random() * 35) + 45,
                    bearishSignals: Math.floor(Math.random() * 25) + 15,
                    marketSentiment: Math.random() > 0.4 ? 'bullish' : 'bearish',
                    volatilityIndex: Math.floor(Math.random() * 30) + 40
                };
            }
            
            generateFearGreedData() {
                const value = Math.floor(Math.random() * 100);
                return this.processFearGreedData(value);
            }
            
            processFearGreedData(value) {
                let text, description, color;
                
                if (value >= 75) {
                    text = 'Extreme Greed';
                    description = 'El mercado muestra codicia extrema, posible correcci√≥n pr√≥xima.';
                    color = 'price-up';
                } else if (value >= 55) {
                    text = 'Greed';
                    description = 'Sentimiento optimista, pero mant√©ngase alerta.';
                    color = 'price-up';
                } else if (value >= 45) {
                    text = 'Neutral';
                    description = 'Mercado equilibrado, oportunidad de entrada.';
                    color = 'price-neutral';
                } else if (value >= 25) {
                    text = 'Fear';
                    description = 'Miedo en el mercado, posible oportunidad de compra.';
                    color = 'price-down';
                } else {
                    text = 'Extreme Fear';
                    description = 'P√°nico extremo, excelente oportunidad de compra para inversores a largo plazo.';
                    color = 'price-down';
                }
                
                return { value, text, description, color };
            }
            
            async simulateAPICall(delay = 1000) {
                await new Promise(resolve => setTimeout(resolve, delay));
                return { status: 'success', timestamp: new Date().toISOString() };
            }
            
            // Funciones de notificaciones
            addNotification(title, message, type = 'info') {
                const notification = {
                    id: Date.now(),
                    title,
                    message,
                    type,
                    timestamp: new Date().toISOString(),
                    read: false
                };
                
                this.notifications.unshift(notification);
                this.updateNotificationCount();
                this.renderNotifications();
                
                // Mostrar notificaci√≥n del navegador
                if (Notification.permission === 'granted') {
                    new Notification(title, {
                        body: message,
                        icon: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDE0NCAxNDQiPjxjaXJjbGUgY3g9IjcyIiBjeT0iNzIiIHI9IjUwIiBmaWxsPSIjMDBkNGZmIi8+PC9zdmc+'
                    });
                }
            }
            
            updateNotificationCount() {
                const unreadCount = this.notifications.filter(n => !n.read).length;
                const countElement = document.getElementById('notificationCount');
                if (countElement) {
                    countElement.textContent = unreadCount;
                    countElement.style.display = unreadCount > 0 ? 'block' : 'none';
                }
            }
            
            renderNotifications() {
                const container = document.getElementById('notificationList');
                if (!container) return;
                
                container.innerHTML = '';
                
                this.notifications.slice(0, 10).forEach(notification => {
                    const notificationEl = document.createElement('div');
                    notificationEl.className = `notification-item ${notification.read ? 'opacity-50' : ''}`;
                    
                    const typeColors = {
                        info: 'text-blue-400',
                        success: 'text-green-400',
                        warning: 'text-yellow-400',
                        error: 'text-red-400'
                    };
                    
                    notificationEl.innerHTML = `
                        <div class="flex items-center justify-between mb-1">
                            <div class="text-sm font-bold ${typeColors[notification.type]}">${notification.title}</div>
                            <div class="text-xs text-gray-400">${this.formatTimeAgo(notification.timestamp)}</div>
                        </div>
                        <div class="text-xs text-gray-300">${notification.message}</div>
                    `;
                    
                    notificationEl.addEventListener('click', () => {
                        notification.read = true;
                        this.updateNotificationCount();
                        this.renderNotifications();
                    });
                    
                    container.appendChild(notificationEl);
                });
            }
            
            formatTimeAgo(timestamp) {
                const now = new Date();
                const time = new Date(timestamp);
                const diffMinutes = Math.floor((now - time) / (1000 * 60));
                
                if (diffMinutes < 1) return 'Ahora';
                if (diffMinutes < 60) return `${diffMinutes}m`;
                if (diffMinutes < 1440) return `${Math.floor(diffMinutes / 60)}h`;
                return `${Math.floor(diffMinutes / 1440)}d`;
            }
            
            toggleNotifications() {
                const panel = document.getElementById('notificationPanel');
                const overlay = document.getElementById('overlay');
                
                if (panel.classList.contains('show')) {
                    panel.classList.remove('show');
                    overlay.classList.remove('show');
                } else {
                    panel.classList.add('show');
                    overlay.classList.add('show');
                }
            }
            
            hideNotifications() {
                document.getElementById('notificationPanel').classList.remove('show');
                document.getElementById('overlay').classList.remove('show');
            }
            
            // Funciones de alertas
            showAlertSettings() {
                document.getElementById('alertSettings').classList.add('show');
                document.getElementById('overlay').classList.add('show');
                this.renderActiveAlerts();
            }
            
            hideAlertSettings() {
                document.getElementById('alertSettings').classList.remove('show');
                document.getElementById('overlay').classList.remove('show');
            }
            
            hideAllPanels() {
                this.hideNotifications();
                this.hideAlertSettings();
            }
            
            saveAlert() {
                const crypto = document.getElementById('alertCrypto').value;
                const type = document.getElementById('alertType').value;
                const value = parseFloat(document.getElementById('alertValue').value);
                const enabled = document.getElementById('alertEnabled').checked;
                
                if (!value || isNaN(value)) {
                    alert('Por favor ingresa un valor v√°lido');
                    return;
                }
                
                const alert = {
                    id: Date.now(),
                    crypto,
                    type,
                    value,
                    enabled,
                    created: new Date().toISOString(),
                    triggered: false
                };
                
                this.alerts.push(alert);
                this.renderActiveAlerts();
                
                // Limpiar formulario
                document.getElementById('alertValue').value = '';
                
                this.addNotification(
                    'Alerta Configurada',
                    `Alerta creada para ${crypto.toUpperCase()}`,
                    'success'
                );
            }
            
            renderActiveAlerts() {
                const container = document.getElementById('activeAlerts');
                if (!container) return;
                
                container.innerHTML = '';
                
                this.alerts.forEach(alert => {
                    const alertEl = document.createElement('div');
                    alertEl.className = 'bg-gray-800 rounded p-2 flex items-center justify-between';
                    
                    const typeLabels = {
                        price_above: 'Precio >',
                        price_below: 'Precio <',
                        change_above: 'Cambio >',
                        change_below: 'Cambio <'
                    };
                    
                    alertEl.innerHTML = `
                        <div class="text-sm">
                            <div class="font-bold text-cyan-400">${alert.crypto.toUpperCase()}</div>
                            <div class="text-gray-300">${typeLabels[alert.type]} ${alert.value}</div>
                        </div>
                        <button class="text-red-400 hover:text-red-300" onclick="window.cryptoApp.removeAlert(${alert.id})">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    
                    container.appendChild(alertEl);
                });
            }
            
            removeAlert(alertId) {
                this.alerts = this.alerts.filter(alert => alert.id !== alertId);
                this.renderActiveAlerts();
            }
            
            checkAlerts() {
                if (!this.cryptoData.market) return;
                
                this.alerts.forEach(alert => {
                    if (!alert.enabled || alert.triggered) return;
                    
                    const crypto = this.cryptoData.market.find(c => 
                        c.name.toLowerCase() === alert.crypto || 
                        c.symbol.toLowerCase() === alert.crypto
                    );
                    
                    if (!crypto) return;
                    
                    let triggered = false;
                    let message = '';
                    
                    switch (alert.type) {
                        case 'price_above':
                            if (crypto.current_price > alert.value) {
                                triggered = true;
                                message = `${crypto.symbol} est√° por encima de $${alert.value}`;
                            }
                            break;
                        case 'price_below':
                            if (crypto.current_price < alert.value) {
                                triggered = true;
                                message = `${crypto.symbol} est√° por debajo de $${alert.value}`;
                            }
                            break;
                        case 'change_above':
                            if (crypto.price_change_percentage_24h > alert.value) {
                                triggered = true;
                                message = `${crypto.symbol} subi√≥ m√°s del ${alert.value}%`;
                            }
                            break;
                        case 'change_below':
                            if (crypto.price_change_percentage_24h < alert.value) {
                                triggered = true;
                                message = `${crypto.symbol} baj√≥ m√°s del ${Math.abs(alert.value)}%`;
                            }
                            break;
                    }
                    
                    if (triggered) {
                        alert.triggered = true;
                        this.addNotification(
                            'üö® Alerta Activada',
                            message,
                            'warning'
                        );
                    }
                });
            }
            
            // Funciones de comentarios
            loadComments() {
                const savedComments = localStorage.getItem('cryptoComments');
                if (savedComments) {
                    this.comments = JSON.parse(savedComments);
                    this.renderComments();
                }
            }
            
            saveComments() {
                localStorage.setItem('cryptoComments', JSON.stringify(this.comments));
            }
            
            submitComment() {
                const author = document.getElementById('commentAuthor').value.trim();
                const text = document.getElementById('commentText').value.trim();
                
                if (!author || !text) {
                    alert('Por favor completa todos los campos');
                    return;
                }
                
                const comment = {
                    id: Date.now(),
                    author,
                    text,
                    timestamp: new Date().toISOString(),
                    likes: 0,
                    replies: []
                };
                
                this.comments.unshift(comment);
                this.renderComments();
                this.saveComments();
                
                // Limpiar formulario
                document.getElementById('commentAuthor').value = '';
                document.getElementById('commentText').value = '';
                
                this.addNotification(
                    'Comentario Publicado',
                    'Tu comentario ha sido publicado exitosamente',
                    'success'
                );
            }
            
            renderComments() {
                const container = document.getElementById('commentsList');
                if (!container) return;
                
                container.innerHTML = '';
                
                this.comments.slice(0, 20).forEach(comment => {
                    const commentEl = document.createElement('div');
                    commentEl.className = 'comment-item';
                    
                    commentEl.innerHTML = `
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm mr-3">
                                    ${comment.author.substring(0, 2).toUpperCase()}
                                </div>
                                <div>
                                    <div class="font-bold text-cyan-400">${comment.author}</div>
                                    <div class="text-xs text-gray-400">${this.formatTimeAgo(comment.timestamp)}</div>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button class="text-gray-400 hover:text-red-400 transition-colors" onclick="window.cryptoApp.likeComment(${comment.id})">
                                    <i class="fas fa-heart"></i>
                                    <span class="ml-1">${comment.likes}</span>
                                </button>
                            </div>
                        </div>
                        <div class="text-gray-300 text-sm">${comment.text}</div>
                    `;
                    
                    container.appendChild(commentEl);
                });
            }
            
            likeComment(commentId) {
                const comment = this.comments.find(c => c.id === commentId);
                if (comment) {
                    comment.likes += 1;
                    this.renderComments();
                    this.saveComments();
                }
            }
            
            forceRefresh() {
                console.log('üîÑ Actualizacion forzada iniciada...');
                this.addNotification(
                    'Actualizando...',
                    'Obteniendo los datos m√°s recientes del mercado',
                    'info'
                );
                this.loadAllData();
            }
            
            // Resto de funciones existentes...
            initCharts() {
                this.initBitcoinChart();
                this.initMarketCapChart();
            }
            
            initBitcoinChart() {
                const ctx = document.getElementById('btcChart');
                if (!ctx) return;
                
                const data = this.generateBitcoinChartData();
                
                this.charts.btc = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: data.labels,
                        datasets: [{
                            label: 'Bitcoin (USD)',
                            data: data.prices,
                            borderColor: '#00d4ff',
                            backgroundColor: 'rgba(0, 212, 255, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                labels: {
                                    color: '#ffffff'
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: false,
                                ticks: {
                                    color: '#ffffff',
                                    callback: function(value) {
                                        return '$' + value.toLocaleString();
                                    }
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                }
                            },
                            x: {
                                ticks: {
                                    color: '#ffffff'
                                },
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                }
                            }
                        }
                    }
                });
            }
            
            initMarketCapChart() {
                const ctx = document.getElementById('marketCapChart');
                if (!ctx) return;
                
                const data = this.generateMarketCapChartData();
                
                this.charts.marketCap = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: data.labels,
                        datasets: [{
                            data: data.values,
                            backgroundColor: [
                                '#00d4ff', '#ff0080', '#00ff41', '#ffaa00', '#8b5cf6',
                                '#f97316', '#06b6d4', '#84cc16', '#ef4444', '#6366f1'
                            ],
                            borderWidth: 2,
                            borderColor: '#000000'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'bottom',
                                labels: {
                                    color: '#ffffff',
                                    padding: 10
                                }
                            }
                        }
                    }
                });
            }
            
            generateBitcoinChartData() {
                const labels = [];
                const prices = [];
                const basePrice = 108000;
                
                for (let i = 29; i >= 0; i--) {
                    const date = new Date();
                    date.setDate(date.getDate() - i);
                    labels.push(date.toLocaleDateString('es-ES', { day: 'numeric', month: 'short' }));
                    
                    const price = basePrice + (Math.random() - 0.5) * 18000 + (29 - i) * 250;
                    prices.push(Math.max(price, 95000));
                }
                
                return { labels, prices };
            }
            
            generateMarketCapChartData() {
                const top10 = this.cryptoData.market.slice(0, 10);
                const labels = top10.map(coin => coin.symbol);
                const values = top10.map(coin => coin.market_cap / 1000000000);
                
                return { labels, values };
            }
            
            updateCharts() {
                if (this.charts.btc) {
                    const data = this.generateBitcoinChartData();
                    this.charts.btc.data.labels = data.labels;
                    this.charts.btc.data.datasets[0].data = data.prices;
                    this.charts.btc.update();
                }
                
                if (this.charts.marketCap) {
                    const data = this.generateMarketCapChartData();
                    this.charts.marketCap.data.labels = data.labels;
                    this.charts.marketCap.data.datasets[0].data = data.values;
                    this.charts.marketCap.update();
                }
            }
            
            renderAllContent() {
                this.renderGlobalStats();
                this.renderDetailedCryptoList();
                this.renderNews();
                this.renderGlobalNews();
                this.renderTradingSignals();
                this.renderTechnicalAnalysis();
                this.updateBreakingNews();
                this.updateNewsCount();
            }
            
            renderGlobalStats() {
                if (this.cryptoData.global) {
                    const global = this.cryptoData.global;
                    
                    this.animateValue('totalMarketCap', global.total_market_cap?.usd / 1000000000000 || 3.4, '$', 2);
                    this.animateValue('totalVolume', global.total_volume?.usd / 1000000000 || 140, '$', 1);
                    this.animateValue('btcDominance', global.market_cap_percentage?.btc || 52.5, '', 1);
                    this.animateValue('activeCryptos', global.active_cryptocurrencies || 13500, '', 0);
                    this.animateValue('fearGreedIndex', this.cryptoData.fearGreed?.value || 75, '', 0);
                    this.animateValue('defiTVL', this.cryptoData.defiTVL / 1000000000 || 320, '$', 0);
                    
                    setTimeout(() => {
                        this.addSuffixes();
                    }, 1000);
                }
            }
            
            addSuffixes() {
                const elements = [
                    { id: 'totalMarketCap', suffix: 'T' },
                    { id: 'totalVolume', suffix: 'B' },
                    { id: 'btcDominance', suffix: '%' },
                    { id: 'defiTVL', suffix: 'B' }
                ];
                
                elements.forEach(({ id, suffix }) => {
                    const element = document.getElementById(id);
                    if (element && !element.textContent.includes(suffix)) {
                        element.textContent += suffix;
                    }
                });
            }
            
            renderDetailedCryptoList() {
                const container = document.getElementById('cryptoDetailedList');
                if (!container || !this.cryptoData.market) return;
                
                container.innerHTML = '';
                
                this.cryptoData.market.slice(0, 25).forEach((coin, index) => {
                    const cryptoCard = document.createElement('div');
                    cryptoCard.className = 'crypto-card';
                    
                    const changeClass = coin.price_change_percentage_24h >= 0 ? 'price-up' : 'price-down';
                    const changeIcon = coin.price_change_percentage_24h >= 0 ? 'fa-arrow-up' : 'fa-arrow-down';
                    
                    cryptoCard.innerHTML = `
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center">
                                <div class="w-12 h-12 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold mr-4">
                                    ${coin.symbol.substring(0, 2)}
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-white">${coin.name}</h3>
                                    <p class="text-gray-400">${coin.symbol.toUpperCase()}</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-2xl font-bold text-white">$${coin.current_price.toLocaleString()}</div>
                                <div class="flex items-center ${changeClass}">
                                    <i class="fas ${changeIcon} mr-1"></i>
                                    <span class="font-bold">${coin.price_change_percentage_24h.toFixed(2)}%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                            <div>
                                <div class="text-gray-400">Market Cap</div>
                                <div class="font-bold text-white">$${(coin.market_cap / 1000000000).toFixed(2)}B</div>
                            </div>
                            <div>
                                <div class="text-gray-400">Volumen 24h</div>
                                <div class="font-bold text-white">$${(coin.total_volume / 1000000).toFixed(2)}M</div>
                            </div>
                            <div>
                                <div class="text-gray-400">Supply Circulante</div>
                                <div class="font-bold text-white">${(coin.circulating_supply / 1000000).toFixed(2)}M</div>
                            </div>
                            <div>
                                <div class="text-gray-400">Ranking</div>
                                <div class="font-bold text-cyan-400">#${coin.market_cap_rank}</div>
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(cryptoCard);
                });
            }
            
            renderNews() {
                const container = document.getElementById('newsContainer');
                if (!container) return;
                
                container.innerHTML = '';
                
                this.newsData.forEach((news, index) => {
                    const newsCard = document.createElement('div');
                    newsCard.className = `news-card ${news.featured ? 'featured' : ''}`;
                    
                    const sentimentColor = news.sentiment === 'bullish' ? 'text-green-400' : 'text-red-400';
                    const sentimentIcon = news.sentiment === 'bullish' ? 'fa-arrow-up' : 'fa-arrow-down';
                    
                    newsCard.innerHTML = `
                        <div class="flex items-start mb-3">
                            <i class="fas fa-newspaper text-cyan-400 text-lg mr-3 mt-1"></i>
                            <div class="flex-1">
                                <div class="flex items-center mb-2">
                                    <span class="bg-cyan-500 text-black px-2 py-1 rounded text-xs font-bold mr-2">
                                        ${news.category}
                                    </span>
                                    ${news.featured ? '<span class="bg-red-500 text-white px-2 py-1 rounded text-xs font-bold mr-2">DESTACADO</span>' : ''}
                                    <span class="text-gray-400 text-xs">
                                        <i class="fas fa-clock mr-1"></i>${news.time}
                                    </span>
                                </div>
                                <h3 class="text-lg font-bold mb-2 text-white">${news.title}</h3>
                            </div>
                        </div>
                        
                        <p class="text-gray-300 text-sm mb-3">${news.summary}</p>
                        
                        <div class="text-xs text-gray-400 mb-3">
                            ${news.content.substring(0, 250)}...
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <i class="fas fa-user mr-1 text-gray-400"></i>
                                <span class="text-gray-400 text-xs">${news.author}</span>
                                <span class="text-gray-400 text-xs ml-3">
                                    <i class="fas fa-clock mr-1"></i>${news.readTime}
                                </span>
                                <span class="text-gray-400 text-xs ml-3">
                                    <i class="fas fa-eye mr-1"></i>${news.engagement}
                                </span>
                            </div>
                            <div class="flex items-center ${sentimentColor}">
                                <i class="fas ${sentimentIcon} mr-1"></i>
                                <span class="text-xs font-bold">${news.sentiment.toUpperCase()}</span>
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(newsCard);
                });
            }
            
            renderGlobalNews() {
                const container = document.getElementById('globalNewsContainer');
                if (!container) return;
                
                container.innerHTML = '';
                
                this.globalNews.forEach((news, index) => {
                    const newsCard = document.createElement('div');
                    newsCard.className = 'news-card';
                    
                    const impactColors = {
                        'Alto': 'text-yellow-400',
                        'Medio': 'text-blue-400',
                        'Cr√≠tico': 'text-red-400'
                    };
                    
                    newsCard.innerHTML = `
                        <div class="flex items-start mb-3">
                            <i class="fas fa-globe text-purple-400 text-lg mr-3 mt-1"></i>
                            <div class="flex-1">
                                <div class="flex items-center mb-2">
                                    <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold mr-2">
                                        ${news.category}
                                    </span>
                                    <span class="bg-gray-600 text-white px-2 py-1 rounded text-xs font-bold mr-2">
                                        ${news.region}
                                    </span>
                                    <span class="text-gray-400 text-xs">
                                        <i class="fas fa-clock mr-1"></i>${news.time}
                                    </span>
                                </div>
                                <h3 class="text-lg font-bold mb-2 text-white">${news.title}</h3>
                            </div>
                        </div>
                        
                        <p class="text-gray-300 text-sm mb-3">${news.summary}</p>
                        
                        <div class="flex items-center justify-between">
                            <div class="text-gray-400 text-xs">
                                <i class="fas fa-chart-line mr-1"></i>
                                Impacto: <span class="${impactColors[news.impact]}">${news.impact}</span>
                            </div>
                            <div class="text-gray-400 text-xs">
                                <i class="fas fa-source mr-1"></i>
                                ${news.source}
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(newsCard);
                });
            }
            
            renderTradingSignals() {
                const container = document.getElementById('tradingSignals');
                if (!container) return;
                
                container.innerHTML = '';
                
                this.tradingSignals.forEach((signal, index) => {
                    const signalCard = document.createElement('div');
                    signalCard.className = 'trading-signal';
                    
                    const signalColor = signal.signal.includes('Compra') ? 'text-green-400' : 
                                      signal.signal.includes('Venta') ? 'text-red-400' : 'text-yellow-400';
                    
                    signalCard.innerHTML = `
                        <div class="flex items-center justify-between mb-2">
                            <div class="font-bold text-white">${signal.coin}</div>
                            <div class="text-xs text-gray-400">${signal.timeframe}</div>
                        </div>
                        
                        <div class="text-lg font-bold ${signalColor} mb-2">${signal.signal}</div>
                        
                        <div class="grid grid-cols-2 gap-2 text-xs mb-2">
                            <div>
                                <div class="text-gray-400">Precio Actual</div>
                                <div class="font-bold text-white">$${signal.price.toLocaleString()}</div>
                            </div>
                            <div>
                                <div class="text-gray-400">Confianza</div>
                                <div class="font-bold text-cyan-400">${signal.confidence}%</div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-2 text-xs">
                            <div>
                                <div class="text-gray-400">RSI</div>
                                <div class="font-bold text-purple-400">${signal.rsi}</div>
                            </div>
                            <div>
                                <div class="text-gray-400">Volumen</div>
                                <div class="font-bold text-orange-400">${signal.volume}%</div>
                            </div>
                        </div>
                        
                        <div class="mt-2 text-xs">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Objetivo:</span>
                                <span class="text-green-400">$${signal.target.toLocaleString()}</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Stop Loss:</span>
                                <span class="text-red-400">$${signal.stopLoss.toLocaleString()}</span>
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(signalCard);
                });
            }
            
            renderTechnicalAnalysis() {
                if (!this.cryptoData.technical) return;
                
                const tech = this.cryptoData.technical;
                
                // Actualizar indicadores t√©cnicos
                document.getElementById('rsiValue').textContent = tech.rsi.toFixed(1);
                document.getElementById('macdValue').textContent = tech.macd.toFixed(2);
                document.getElementById('smaValue').textContent = '$' + tech.sma200.toLocaleString();
                
                // Actualizar barras de sentimiento
                const bullishProgress = document.getElementById('bullishProgress');
                const bearishProgress = document.getElementById('bearishProgress');
                
                if (bullishProgress) {
                    bullishProgress.style.width = tech.bullishSignals + '%';
                }
                
                if (bearishProgress) {
                    bearishProgress.style.width = tech.bearishSignals + '%';
                }
                
                // Actualizar textos de sentimiento
                const bullishText = document.querySelector('#bullishSentiment p');
                const bearishText = document.querySelector('#bearishSentiment p');
                
                if (bullishText) {
                    bullishText.textContent = `${tech.bullishSignals}% de se√±ales alcistas detectadas`;
                }
                
                if (bearishText) {
                    bearishText.textContent = `${tech.bearishSignals}% de se√±ales bajistas detectadas`;
                }
            }
            
            updateNewsCount() {
                const totalNews = this.newsData.length + this.globalNews.length;
                document.getElementById('newsCount').textContent = totalNews;
            }
            
            updateBreakingNews() {
                const breakingNewsTexts = [
                    `üöÄ Bitcoin alcanza $${Math.floor((this.cryptoData.prices?.bitcoin?.usd || 110000) / 1000) * 1000} - Nueva era bull market`,
                    `‚ö° Ethereum escalabilidad mejorada - Tarifas reducidas 90% tras actualizaci√≥n`,
                    `üèõÔ∏è BlackRock alcanza $100B en activos crypto - Wall Street adopci√≥n masiva`,
                    `üåê Regulaci√≥n MiCA aprobada - Marco legal global establecido`,
                    `üî• DeFi TVL supera $${Math.floor((this.cryptoData.defiTVL || 320000000000) / 1000000000)}B - Crecimiento exponencial`,
                    `üíé Miner√≠a Bitcoin sostenible - 75% energ√≠a renovable`,
                    `üéØ √çndice Fear & Greed: ${this.cryptoData.fearGreed?.value || 75} - ${this.cryptoData.fearGreed?.text || 'Mercado optimista'}`,
                    `üìà Market Cap total: $${Math.floor((this.cryptoData.global?.total_market_cap?.usd || 3400000000000) / 1000000000000)}T - Nuevo ATH hist√≥rico`,
                    `üé™ NFT market revive - Volumen diario supera $200M`,
                    `ü§ñ AI + Blockchain - Nuevas aplicaciones revolucionarias`
                ];
                
                const randomNews = breakingNewsTexts[Math.floor(Math.random() * breakingNewsTexts.length)];
                const element = document.getElementById('breakingNews');
                if (element) {
                    element.textContent = randomNews;
                }
            }
            
            updatePriceDisplay() {
                if (this.cryptoData.prices) {
                    const btcPrice = this.cryptoData.prices.bitcoin?.usd || 110000;
                    const ethPrice = this.cryptoData.prices.ethereum?.usd || 4400;
                    
                    this.animateValue('btcPrice', btcPrice, '$', 0);
                    this.animateValue('ethPrice', ethPrice, '$', 0);
                }
            }
            
            animateValue(elementId, value, prefix = '', decimals = 0) {
                const element = document.getElementById(elementId);
                if (!element) return;
                
                const currentValue = parseFloat(element.textContent.replace(/[^0-9.-]+/g, '')) || 0;
                const increment = (value - currentValue) / 50;
                let current = currentValue;
                
                const animate = () => {
                    current += increment;
                    if ((increment > 0 && current < value) || (increment < 0 && current > value)) {
                        if (decimals > 0) {
                            element.textContent = prefix + current.toFixed(decimals);
                        } else {
                            element.textContent = prefix + Math.round(current).toLocaleString();
                        }
                        requestAnimationFrame(animate);
                    } else {
                        if (decimals > 0) {
                            element.textContent = prefix + value.toFixed(decimals);
                        } else {
                            element.textContent = prefix + Math.round(value).toLocaleString();
                        }
                    }
                };
                
                animate();
            }
            
            updateTimeline() {
                const timeline = document.getElementById('updateTimeline');
                if (!timeline) return;
                
                const now = new Date();
                const timeString = now.toLocaleString('es-ES', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
                
                const newUpdate = document.createElement('div');
                newUpdate.className = 'timeline-item';
                newUpdate.innerHTML = `
                    <div class="flex items-center justify-between mb-2">
                        <div class="text-lg font-bold text-cyan-400">${timeString}</div>
                        <div class="text-sm text-gray-400">Actualizaci√≥n #${this.updateCounter}</div>
                    </div>
                    <div class="text-white font-semibold mb-2">Sistema CLAN CRYPTO REVOLUTION Actualizado</div>
                    <div class="text-gray-300 text-sm">
                        ‚úÖ ${this.newsData.length + this.globalNews.length} noticias actualizadas<br>
                        ‚úÖ Datos de mercado de ${this.cryptoData.market?.length || 0} criptomonedas<br>
                        ‚úÖ ${this.tradingSignals.length} se√±ales de trading generadas<br>
                        ‚úÖ An√°lisis t√©cnico y sentimiento del mercado<br>
                        ‚úÖ ${this.alerts.length} alertas personalizadas activas<br>
                        ‚úÖ ${this.notifications.length} notificaciones enviadas<br>
                        ‚è∞ Pr√≥xima actualizaci√≥n en 15 minutos
                    </div>
                `;
                
                timeline.insertBefore(newUpdate, timeline.firstChild);
                
                // Mantener solo las √∫ltimas 5 actualizaciones
                while (timeline.children.length > 5) {
                    timeline.removeChild(timeline.lastChild);
                }
                
                // Actualizar tiempo de √∫ltima actualizaci√≥n
                const lastUpdateElement = document.getElementById('lastUpdateTime');
                if (lastUpdateElement) {
                    lastUpdateElement.textContent = timeString;
                }
            }
            
            updateDateTime() {
                const now = new Date();
                const options = { 
                    month: 'short', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                };
                
                const element = document.getElementById('currentDate');
                if (element) {
                    element.textContent = now.toLocaleDateString('es-ES', options);
                }
            }
            
            setupAutoUpdate() {
                // Actualizaci√≥n principal cada 15 minutos
                setInterval(() => {
                    console.log('üîÑ Actualizaci√≥n autom√°tica iniciada...');
                    this.updateCounter++;
                    this.loadAllData();
                    this.addNotification(
                        'Datos Actualizados',
                        'Nueva informaci√≥n del mercado disponible',
                        'info'
                    );
                }, this.updateInterval);
                
                // Actualizar timer cada minuto
                setInterval(() => {
                    this.updateRefreshTimer();
                }, 60000);
                
                // Actualizar fecha/hora cada 30 segundos
                setInterval(() => {
                    this.updateDateTime();
                }, 30000);
                
                // Actualizar breaking news cada 2 minutos
                setInterval(() => {
                    this.updateBreakingNews();
                }, 120000);
                
                // Verificar alertas cada 5 minutos
                setInterval(() => {
                    this.checkAlerts();
                }, 300000);
            }
            
            updateRefreshTimer() {
                const now = new Date();
                const nextUpdate = new Date(this.lastUpdate.getTime() + this.updateInterval);
                const timeLeft = nextUpdate - now;
                
                const element = document.getElementById('refreshTimer');
                const nextUpdateElement = document.getElementById('nextUpdate');
                
                if (timeLeft > 0) {
                    const hours = Math.floor(timeLeft / (1000 * 60 * 60));
                    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                    
                    const timeString = hours > 0 ? `${hours}h ${minutes}m` : `${minutes}m`;
                    
                    if (element) {
                        element.textContent = `Pr√≥xima actualizaci√≥n: ${timeString}`;
                    }
                    
                    if (nextUpdateElement) {
                        nextUpdateElement.textContent = nextUpdate.toLocaleTimeString('es-ES', { 
                            hour: '2-digit', 
                            minute: '2-digit' 
                        });
                    }
                } else {
                    if (element) {
                        element.textContent = 'Actualizando...';
                    }
                    if (nextUpdateElement) {
                        nextUpdateElement.textContent = 'Ahora';
                    }
                }
            }
            
            showLoading() {
                const refreshIcon = document.getElementById('refreshIcon');
                if (refreshIcon) {
                    refreshIcon.style.animation = 'spin 1s linear infinite';
                }
            }
            
            hideLoading() {
                const refreshIcon = document.getElementById('refreshIcon');
                if (refreshIcon) {
                    refreshIcon.style.animation = 'none';
                }
                
                this.lastUpdate = new Date();
            }
            
            generateMarketCap(index) {
                const baseCaps = [
                    2200000000000, 550000000000, 115000000000, 98000000000, 48000000000,
                    32000000000, 22000000000, 18000000000, 15000000000, 9000000000
                ];
                
                const baseCap = baseCaps[index] || Math.random() * 15000000000;
                return baseCap * (1 + (Math.random() - 0.5) * 0.15);
            }
            
            generateVolume(index) {
                return Math.random() * 8000000000 + 200000000;
            }
            
            generateFallbackData() {
                this.fetchCryptoData();
                this.fetchNewsData();
                this.fetchGlobalNews();
                this.generateTradingSignals();
                this.analyzeTechnicalData();
            }
        }
        
        // Inicializar la aplicaci√≥n
        document.addEventListener('DOMContentLoaded', () => {
            window.cryptoApp = new AdvancedCryptoRevolution();
        });
        
        // Agregar animaci√≥n de rotaci√≥n
        const style = document.createElement('style');
        style.textContent = `
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
