<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Peri√≥dico CLAN - Noticias Crypto Responsivo</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.7;
            color: #1a202c;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            overflow-x: hidden;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }
        
        .container-fluid {
            width: 100%;
            max-width: 100vw;
            padding-left: clamp(0.5rem, 2vw, 2rem);
            padding-right: clamp(0.5rem, 2vw, 2rem);
            margin: 0 auto;
        }
        
        .container {
            width: 100%;
            max-width: min(90rem, 95vw);
            padding-left: clamp(0.5rem, 2vw, 1.5rem);
            padding-right: clamp(0.5rem, 2vw, 1.5rem);
            margin: 0 auto;
        }
        
        .newspaper-header {
            font-family: 'Playfair Display', serif;
            background: linear-gradient(145deg, #0f172a 0%, #1e293b 25%, #334155 75%, #475569 100%);
            color: white;
            border-bottom: clamp(2px, 0.5vw, 6px) solid #f59e0b;
            position: relative;
            overflow: hidden;
        }
        
        .newspaper-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;
            pointer-events: none;
        }
        
        .newspaper-title {
            font-size: clamp(2rem, 8vw, 5rem);
            font-weight: 900;
            text-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.4);
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
            letter-spacing: -0.02em;
        }
        
        .subtitle {
            font-size: clamp(0.875rem, 3vw, 1.25rem);
            font-weight: 600;
            margin-bottom: clamp(0.5rem, 2vw, 1rem);
            opacity: 0.9;
        }
        
        .header-stats {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: clamp(0.5rem, 2vw, 1.5rem);
            font-size: clamp(0.75rem, 2vw, 0.875rem);
            font-weight: 500;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            white-space: nowrap;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .section-title {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            font-size: clamp(1.5rem, 4vw, 2.25rem);
            color: #0f172a;
            border-bottom: 0.1875rem solid #f59e0b;
            padding-bottom: 0.75rem;
            margin-bottom: clamp(1rem, 3vw, 2rem);
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -0.1875rem;
            left: 0;
            width: 20%;
            height: 0.1875rem;
            background: linear-gradient(90deg, #f59e0b, #fbbf24);
        }
        
        .grid-responsive {
            display: grid;
            gap: clamp(1rem, 3vw, 2rem);
            width: 100%;
        }
        
        .grid-1 { grid-template-columns: 1fr; }
        .grid-2 { grid-template-columns: repeat(auto-fit, minmax(min(20rem, 100%), 1fr)); }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(min(18rem, 100%), 1fr)); }
        .grid-4 { grid-template-columns: repeat(auto-fit, minmax(min(15rem, 100%), 1fr)); }
        
        @media (min-width: 640px) {
            .sm\:grid-2 { grid-template-columns: repeat(2, 1fr); }
            .sm\:grid-3 { grid-template-columns: repeat(3, 1fr); }
        }
        
        @media (min-width: 1024px) {
            .lg\:grid-2 { grid-template-columns: repeat(2, 1fr); }
            .lg\:grid-3 { grid-template-columns: repeat(3, 1fr); }
            .lg\:grid-4 { grid-template-columns: repeat(4, 1fr); }
        }
        
        .article-card {
            background: white;
            border-radius: clamp(0.5rem, 2vw, 1rem);
            box-shadow: 0 0.25rem 1.5rem -0.25rem rgba(0, 0, 0, 0.08), 0 0.125rem 0.375rem -0.125rem rgba(0, 0, 0, 0.06);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 0.25rem solid #f59e0b;
            margin-bottom: clamp(1rem, 3vw, 1.5rem);
            overflow: hidden;
            position: relative;
        }
        
        .article-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 0.125rem;
            background: linear-gradient(90deg, #f59e0b, #fbbf24, #f59e0b);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .article-card:hover {
            transform: translateY(-0.25rem);
            box-shadow: 0 0.5rem 2rem -0.25rem rgba(0, 0, 0, 0.12), 0 0.25rem 0.5rem -0.125rem rgba(0, 0, 0, 0.08);
        }
        
        .article-card:hover::before {
            opacity: 1;
        }
        
        .card-padding {
            padding: clamp(1rem, 3vw, 2rem);
        }
        
        .breaking-news {
            background: linear-gradient(135deg, #dc2626 0%, #ef4444 50%, #f87171 100%);
            color: white;
            animation: pulse 3s infinite;
            text-align: center;
            padding: clamp(0.5rem, 2vw, 1rem);
        }
        
        .breaking-news-content {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            gap: clamp(0.5rem, 2vw, 1rem);
            font-size: clamp(0.875rem, 2.5vw, 1.125rem);
            font-weight: 600;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.95; }
        }
        
        .auto-refresh-indicator {
            position: fixed;
            top: clamp(1rem, 3vw, 1.25rem);
            right: clamp(1rem, 3vw, 1.25rem);
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: clamp(0.375rem, 1.5vw, 0.75rem) clamp(0.75rem, 2vw, 1.25rem);
            border-radius: clamp(1rem, 3vw, 1.5rem);
            font-size: clamp(0.75rem, 2vw, 0.875rem);
            font-weight: 600;
            z-index: 1000;
            animation: fadeInOut 4s infinite;
            box-shadow: 0 0.25rem 0.75rem rgba(16, 185, 129, 0.3);
            backdrop-filter: blur(10px);
        }
        
        @keyframes fadeInOut {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        
        .crypto-price {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border-radius: clamp(0.375rem, 1.5vw, 0.5rem);
            padding: clamp(0.25rem, 1vw, 0.5rem) clamp(0.5rem, 2vw, 1rem);
            font-weight: 600;
            display: inline-block;
            font-size: clamp(0.75rem, 2vw, 0.875rem);
        }
        
        .price-up { background: linear-gradient(135deg, #10b981, #059669); }
        .price-down { background: linear-gradient(135deg, #dc2626, #ef4444); }
        
        .market-indicator {
            display: inline-flex;
            align-items: center;
            padding: clamp(0.25rem, 1vw, 0.375rem) clamp(0.5rem, 2vw, 1rem);
            border-radius: clamp(1rem, 2vw, 1.25rem);
            font-size: clamp(0.75rem, 2vw, 0.875rem);
            font-weight: 600;
            white-space: nowrap;
        }
        
        .indicator-bullish {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
            border: 0.0625rem solid rgba(16, 185, 129, 0.3);
        }
        
        .indicator-bearish {
            background: rgba(220, 38, 38, 0.1);
            color: #dc2626;
            border: 0.0625rem solid rgba(220, 38, 38, 0.3);
        }
        
        .indicator-neutral {
            background: rgba(251, 191, 36, 0.1);
            color: #d97706;
            border: 0.0625rem solid rgba(251, 191, 36, 0.3);
        }
        
        .chart-container {
            background: white;
            border-radius: clamp(0.5rem, 2vw, 1rem);
            padding: clamp(1rem, 3vw, 2rem);
            box-shadow: 0 0.25rem 1.5rem -0.25rem rgba(0, 0, 0, 0.08);
            height: clamp(20rem, 50vw, 25rem);
            display: flex;
            flex-direction: column;
        }
        
        .chart-title {
            font-weight: 700;
            font-size: clamp(1rem, 2.5vw, 1.25rem);
            margin-bottom: clamp(0.75rem, 2vw, 1.25rem);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .chart-canvas {
            flex: 1;
            min-height: 0;
            width: 100% !important;
            height: auto !important;
        }
        
        .timeline-item {
            border-left: 0.1875rem solid #f59e0b;
            padding-left: clamp(0.75rem, 2vw, 1.25rem);
            margin-bottom: clamp(1rem, 2vw, 1.5rem);
            position: relative;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -0.375rem;
            top: 0.5rem;
            width: 0.75rem;
            height: 0.75rem;
            background: #f59e0b;
            border-radius: 50%;
            box-shadow: 0 0 0 0.1875rem white, 0 0 0 0.25rem #f59e0b;
        }
        
        .live-data {
            background: linear-gradient(135deg, #059669, #10b981);
            color: white;
            padding: clamp(0.25rem, 1vw, 0.375rem) clamp(0.5rem, 1.5vw, 0.75rem);
            border-radius: 0.25rem;
            font-size: clamp(0.625rem, 1.5vw, 0.75rem);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .loading {
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        
        .error-message {
            background: #fef2f2;
            border: 0.0625rem solid #fecaca;
            color: #dc2626;
            padding: clamp(0.75rem, 2vw, 1.25rem);
            border-radius: clamp(0.375rem, 1.5vw, 0.5rem);
            margin: clamp(0.75rem, 2vw, 1.25rem) 0;
            font-weight: 500;
        }
        
        .text-responsive {
            font-size: clamp(0.875rem, 2.5vw, 1rem);
            line-height: 1.6;
        }
        
        .text-lg-responsive {
            font-size: clamp(1rem, 3vw, 1.25rem);
            line-height: 1.5;
        }
        
        .text-xl-responsive {
            font-size: clamp(1.125rem, 3.5vw, 1.5rem);
            line-height: 1.4;
        }
        
        .text-2xl-responsive {
            font-size: clamp(1.25rem, 4vw, 2rem);
            line-height: 1.3;
        }
        
        .spacing-y {
            margin-bottom: clamp(2rem, 5vw, 4rem);
        }
        
        .flex-responsive {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: clamp(0.5rem, 2vw, 1rem);
        }
        
        .justify-between-responsive {
            justify-content: space-between;
        }
        
        @media (max-width: 640px) {
            .justify-between-responsive {
                justify-content: flex-start;
            }
        }
        
        .data-point {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: clamp(0.5rem, 1.5vw, 0.75rem);
            background: rgba(248, 250, 252, 0.8);
            border-radius: 0.375rem;
            margin-bottom: 0.5rem;
            font-size: clamp(0.875rem, 2vw, 1rem);
        }
        
        .icon-responsive {
            font-size: clamp(1rem, 2.5vw, 1.25rem);
        }
        
        footer {
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 50%, #4a5568 100%);
            color: white;
            margin-top: clamp(3rem, 6vw, 5rem);
        }
        
        .footer-content {
            padding: clamp(2rem, 5vw, 4rem) 0;
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(15rem, 100%), 1fr));
            gap: clamp(1.5rem, 4vw, 3rem);
        }
        
        .footer-section h3,
        .footer-section h4 {
            font-size: clamp(1rem, 2.5vw, 1.25rem);
            font-weight: 700;
            margin-bottom: clamp(0.75rem, 2vw, 1rem);
        }
        
        .footer-bottom {
            border-top: 0.0625rem solid rgba(255, 255, 255, 0.1);
            padding-top: clamp(1.5rem, 3vw, 2rem);
            text-align: center;
            font-size: clamp(0.75rem, 2vw, 0.875rem);
            opacity: 0.8;
        }
        
        @media print {
            body {
                background: white !important;
                font-size: 12px !important;
                color: black !important;
            }
            
            .no-print {
                display: none !important;
            }
            
            .auto-refresh-indicator {
                display: none !important;
            }
            
            .article-card {
                break-inside: avoid;
                page-break-inside: avoid;
                margin-bottom: 1rem !important;
                box-shadow: none !important;
                border: 1px solid #e2e8f0 !important;
            }
            
            .section-title {
                break-after: avoid;
                page-break-after: avoid;
                color: black !important;
            }
            
            .newspaper-header {
                background: #f8f9fa !important;
                color: black !important;
                border-bottom: 2px solid #333 !important;
            }
            
            .newspaper-title {
                color: #333 !important;
                -webkit-text-fill-color: #333 !important;
            }
            
            .chart-container {
                height: auto !important;
                min-height: 300px !important;
            }
            
            * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
            }
        }
        
        /* Mejoras adicionales para accesibilidad y UX */
        .focus-visible:focus {
            outline: 2px solid #f59e0b;
            outline-offset: 2px;
        }
        
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Optimizaci√≥n para dispositivos t√°ctiles */
        @media (pointer: coarse) {
            .article-card {
                min-height: 44px;
            }
            
            .market-indicator {
                min-height: 44px;
            }
        }
        
        /* Scrollbar personalizado para webkit */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>
<body>
    <!-- Auto Refresh Indicator -->
    <div class="auto-refresh-indicator no-print">
        <i class="fas fa-sync-alt icon-responsive" id="refreshIcon"></i>
        <span id="refreshTimer">Pr√≥xima actualizaci√≥n en 2h</span>
    </div>

    <!-- Header -->
    <header class="newspaper-header">
        <div class="container-fluid">
            <div class="text-center" style="padding: clamp(2rem, 5vw, 4rem) 0;">
                <div class="flex flex-col items-center mb-4">
                    <div class="flex items-center justify-center mb-4">
                        <i class="fas fa-newspaper mr-4" style="font-size: clamp(2rem, 6vw, 4rem); color: #fbbf24;"></i>
                        <h1 class="newspaper-title">PERI√ìDICO CLAN</h1>
                    </div>
                    <div class="subtitle">Noticias del Mundo Crypto - Actualizaci√≥n Autom√°tica Cada 2 Horas</div>
                </div>
                
                <div class="header-stats">
                    <div class="stat-item">
                        <i class="fas fa-calendar-alt mr-2"></i>
                        <span id="currentDate"></span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-globe mr-2"></i>
                        <span>Edici√≥n Digital</span>
                    </div>
                    <div class="live-data">
                        <i class="fas fa-circle mr-1 text-green-300" style="font-size: 0.5rem;"></i>
                        EN VIVO
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-bitcoin mr-2 text-yellow-400"></i>
                        <span>BTC: <span id="btcPrice">Cargando...</span></span>
                    </div>
                    <div class="stat-item">
                        <i class="fab fa-ethereum mr-2 text-blue-400"></i>
                        <span>ETH: <span id="ethPrice">Cargando...</span></span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-coins mr-2 text-purple-400"></i>
                        <span>Market Cap: <span id="totalMarketCap">Cargando...</span></span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Breaking News Banner -->
    <div class="breaking-news">
        <div class="container-fluid">
            <div class="breaking-news-content">
                <i class="fas fa-exclamation-triangle icon-responsive"></i>
                <span class="font-bold">√öLTIMA HORA:</span>
                <span id="breakingNews">Cargando noticias de √∫ltima hora...</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container">
        <!-- Market Overview -->
        <section class="spacing-y">
            <h2 class="section-title">Panorama del Mercado Global</h2>
            <div class="grid-responsive grid-4 lg:grid-4">
                <div class="chart-container">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-line text-green-600"></i>
                        Bitcoin √öltimos 7 D√≠as
                    </h3>
                    <canvas id="btcChart" class="chart-canvas"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3 class="chart-title">
                        <i class="fas fa-coins text-blue-600"></i>
                        Top 5 Cryptos
                    </h3>
                    <div id="topCryptos" class="flex flex-col gap-3 overflow-y-auto flex-1"></div>
                </div>
                
                <div class="chart-container">
                    <h3 class="chart-title">
                        <i class="fas fa-exchange-alt text-purple-600"></i>
                        Volumen 24h
                    </h3>
                    <canvas id="volumeChart" class="chart-canvas"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-pie text-indigo-600"></i>
                        Dominancia
                    </h3>
                    <canvas id="dominanceChart" class="chart-canvas"></canvas>
                </div>
            </div>
        </section>

        <!-- Latest News -->
        <section class="spacing-y">
            <h2 class="section-title">√öltimas Noticias del Mercado Crypto</h2>
            <div id="newsContainer" class="grid-responsive grid-2 lg:grid-2">
                <div class="article-card card-padding">
                    <div class="text-center py-8">
                        <i class="fas fa-spinner fa-spin text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600 text-responsive">Cargando √∫ltimas noticias...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Market Data -->
        <section class="spacing-y">
            <h2 class="section-title">Datos del Mercado en Tiempo Real</h2>
            <div class="grid-responsive grid-3 lg:grid-3">
                <div class="article-card card-padding">
                    <h3 class="text-xl-responsive font-bold mb-4 flex items-center">
                        <i class="fas fa-fire mr-2 text-red-500 icon-responsive"></i>
                        Top Gainers 24h
                    </h3>
                    <div id="topGainers" class="space-y-3"></div>
                </div>
                
                <div class="article-card card-padding">
                    <h3 class="text-xl-responsive font-bold mb-4 flex items-center">
                        <i class="fas fa-arrow-down mr-2 text-red-600 icon-responsive"></i>
                        Top Losers 24h
                    </h3>
                    <div id="topLosers" class="space-y-3"></div>
                </div>
                
                <div class="article-card card-padding">
                    <h3 class="text-xl-responsive font-bold mb-4 flex items-center">
                        <i class="fas fa-star mr-2 text-yellow-500 icon-responsive"></i>
                        Trending Coins
                    </h3>
                    <div id="trendingCoins" class="space-y-3"></div>
                </div>
            </div>
        </section>

        <!-- DeFi Section -->
        <section class="spacing-y">
            <h2 class="section-title">Ecosistema DeFi</h2>
            <div class="grid-responsive grid-2 lg:grid-2">
                <div class="article-card card-padding">
                    <h3 class="text-2xl-responsive font-bold mb-4 flex items-center">
                        <i class="fas fa-coins mr-2 text-purple-600 icon-responsive"></i>
                        Total Value Locked (TVL)
                    </h3>
                    <div id="defiTvl" class="mb-4">
                        <div class="text-4xl font-bold text-purple-600 mb-2" id="totalTvl">Cargando...</div>
                        <div class="text-responsive text-gray-600" id="tvlChange">Cambio 24h: Cargando...</div>
                    </div>
                    <canvas id="tvlChart" class="chart-canvas" style="height: 12rem;"></canvas>
                </div>
                
                <div class="article-card card-padding">
                    <h3 class="text-2xl-responsive font-bold mb-4 flex items-center">
                        <i class="fas fa-layer-group mr-2 text-blue-600 icon-responsive"></i>
                        Top Protocolos DeFi
                    </h3>
                    <div id="topDefiProtocols" class="space-y-4"></div>
                </div>
            </div>
        </section>

        <!-- Fear & Greed Index -->
        <section class="spacing-y">
            <h2 class="section-title">√çndices de Mercado</h2>
            <div class="grid-responsive grid-2 lg:grid-2">
                <div class="article-card card-padding">
                    <h3 class="text-2xl-responsive font-bold mb-4 flex items-center">
                        <i class="fas fa-thermometer-half mr-2 text-orange-500 icon-responsive"></i>
                        Fear & Greed Index
                    </h3>
                    <div class="text-center">
                        <div class="text-6xl font-bold mb-4" id="fearGreedValue" style="font-size: clamp(3rem, 8vw, 5rem);">--</div>
                        <div class="text-xl-responsive font-semibold mb-2" id="fearGreedText">Cargando...</div>
                        <div class="text-responsive text-gray-600" id="fearGreedDescription">Analizando sentimiento del mercado...</div>
                    </div>
                </div>
                
                <div class="article-card card-padding">
                    <h3 class="text-2xl-responsive font-bold mb-4 flex items-center">
                        <i class="fas fa-globe mr-2 text-green-500 icon-responsive"></i>
                        Estad√≠sticas Globales
                    </h3>
                    <div id="globalStats" class="space-y-4">
                        <div class="data-point">
                            <span>Active Cryptocurrencies:</span>
                            <span id="activeCryptos" class="font-semibold">--</span>
                        </div>
                        <div class="data-point">
                            <span>Markets:</span>
                            <span id="markets" class="font-semibold">--</span>
                        </div>
                        <div class="data-point">
                            <span>Total Volume 24h:</span>
                            <span id="totalVolume" class="font-semibold">--</span>
                        </div>
                        <div class="data-point">
                            <span>Market Cap Change 24h:</span>
                            <span id="marketCapChange" class="font-semibold">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Timeline -->
        <section class="spacing-y">
            <h2 class="section-title">Cronolog√≠a de Actualizaciones</h2>
            <div class="article-card card-padding">
                <div id="updateTimeline" class="space-y-6">
                    <div class="timeline-item">
                        <h4 class="text-lg-responsive font-bold text-green-600" id="lastUpdateTime">Sistema Iniciado</h4>
                        <p class="text-responsive text-gray-700 font-medium">Peri√≥dico CLAN iniciado con sistema responsivo</p>
                        <p class="text-responsive text-gray-600">Sistema de actualizaci√≥n autom√°tica activado - Optimizado para cualquier dispositivo</p>
                        <span class="text-sm text-gray-500">Pr√≥xima actualizaci√≥n en 2 horas</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Data Sources -->
        <section class="spacing-y">
            <h2 class="section-title">Fuentes de Datos en Tiempo Real</h2>
            <div class="grid-responsive grid-4 lg:grid-4">
                <div class="article-card card-padding">
                    <div class="flex items-center">
                        <i class="fas fa-chart-line text-blue-600 icon-responsive mr-3"></i>
                        <div class="flex-1">
                            <h4 class="font-semibold text-lg-responsive">CoinGecko API</h4>
                            <p class="text-responsive text-gray-600">Precios y datos de mercado</p>
                            <div class="text-xs text-green-600 font-semibold" id="coingeckoStatus">‚úì Conectado</div>
                        </div>
                    </div>
                </div>

                <div class="article-card card-padding">
                    <div class="flex items-center">
                        <i class="fas fa-coins text-purple-600 icon-responsive mr-3"></i>
                        <div class="flex-1">
                            <h4 class="font-semibold text-lg-responsive">DeFiLlama API</h4>
                            <p class="text-responsive text-gray-600">Datos DeFi y TVL</p>
                            <div class="text-xs text-green-600 font-semibold" id="defillamaStatus">‚úì Conectado</div>
                        </div>
                    </div>
                </div>

                <div class="article-card card-padding">
                    <div class="flex items-center">
                        <i class="fas fa-newspaper text-orange-600 icon-responsive mr-3"></i>
                        <div class="flex-1">
                            <h4 class="font-semibold text-lg-responsive">CoinDesk API</h4>
                            <p class="text-responsive text-gray-600">Noticias crypto</p>
                            <div class="text-xs text-green-600 font-semibold" id="newsFeedStatus">‚úì Conectado</div>
                        </div>
                    </div>
                </div>

                <div class="article-card card-padding">
                    <div class="flex items-center">
                        <i class="fas fa-thermometer-half text-red-600 icon-responsive mr-3"></i>
                        <div class="flex-1">
                            <h4 class="font-semibold text-lg-responsive">Fear & Greed</h4>
                            <p class="text-responsive text-gray-600">√çndice de sentimiento</p>
                            <div class="text-xs text-green-600 font-semibold" id="fearGreedStatus">‚úì Conectado</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-grid">
                    <div class="footer-section" style="grid-column: span 2;">
                        <h3 class="text-yellow-400">PERI√ìDICO CLAN</h3>
                        <p class="text-responsive text-gray-300 mb-4">
                            Peri√≥dico crypto completamente responsivo con actualizaci√≥n autom√°tica cada 2 horas. 
                            Optimizado para cualquier dispositivo y tama√±o de pantalla. Datos en tiempo real desde m√∫ltiples APIs verificadas.
                        </p>
                        <div class="flex-responsive">
                            <span class="live-data">
                                <i class="fas fa-broadcast-tower mr-1"></i>
                                ACTUALIZACI√ìN AUTOM√ÅTICA
                            </span>
                            <span class="text-responsive text-gray-400">Cada 2 horas</span>
                            <span class="live-data">
                                <i class="fas fa-mobile-alt mr-1"></i>
                                100% RESPONSIVO
                            </span>
                        </div>
                    </div>
                    
                    <div class="footer-section">
                        <h4 class="font-semibold mb-4">APIs Integradas</h4>
                        <ul class="space-y-2 text-gray-300 text-responsive">
                            <li><i class="fas fa-check mr-2 text-green-400"></i>CoinGecko</li>
                            <li><i class="fas fa-check mr-2 text-green-400"></i>DeFiLlama</li>
                            <li><i class="fas fa-check mr-2 text-green-400"></i>Fear & Greed Index</li>
                            <li><i class="fas fa-check mr-2 text-green-400"></i>CryptoNews APIs</li>
                        </ul>
                    </div>
                    
                    <div class="footer-section">
                        <h4 class="font-semibold mb-4">Caracter√≠sticas</h4>
                        <div class="space-y-2 text-gray-300 text-responsive">
                            <p><i class="fas fa-sync mr-2"></i>Auto-refresh: 2h</p>
                            <p><i class="fas fa-mobile-alt mr-2"></i>Totalmente responsivo</p>
                            <p><i class="fas fa-clock mr-2"></i>√öltima: <span id="footerLastUpdate">--</span></p>
                            <p><i class="fas fa-calendar mr-2"></i>Pr√≥xima: <span id="footerNextUpdate">--</span></p>
                            <p><i class="fas fa-database mr-2"></i>APIs: En l√≠nea</p>
                            <p><i class="fas fa-file-pdf mr-2"></i>Optimizado para PDF</p>
                        </div>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>&copy; 2025 Peri√≥dico CLAN - Edici√≥n Responsiva. Todos los derechos reservados.</p>
                    <p class="mt-2">
                        <span class="text-yellow-400 font-semibold">DISCLAIMER:</span> 
                        Datos obtenidos de APIs p√∫blicas. No constituye asesoramiento financiero. 
                        P√°gina optimizada para cualquier dispositivo y exportaci√≥n PDF.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        class ResponsiveCryptoNewspaper {
            constructor() {
                this.updateInterval = 2 * 60 * 60 * 1000; // 2 horas
                this.lastUpdate = new Date();
                this.charts = {};
                this.cryptoData = {};
                this.newsData = [];
                this.resizeObserver = null;
                
                this.init();
            }
            
            async init() {
                console.log('üöÄ Iniciando Peri√≥dico CLAN Responsivo');
                this.setupResponsiveHandlers();
                this.updateDateTime();
                await this.loadAllData();
                this.setupAutoUpdate();
                this.updateRefreshTimer();
                this.setupChartResize();
            }
            
            setupResponsiveHandlers() {
                // Manejar cambios de orientaci√≥n
                window.addEventListener('orientationchange', () => {
                    setTimeout(() => {
                        this.handleResize();
                    }, 100);
                });
                
                // Manejar cambios de tama√±o de ventana
                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => {
                        this.handleResize();
                    }, 250);
                });
                
                // Prevenir zoom en dispositivos m√≥viles
                document.addEventListener('touchstart', function(e) {
                    if (e.touches.length > 1) {
                        e.preventDefault();
                    }
                });
                
                let lastTouchEnd = 0;
                document.addEventListener('touchend', function(e) {
                    const now = (new Date()).getTime();
                    if (now - lastTouchEnd <= 300) {
                        e.preventDefault();
                    }
                    lastTouchEnd = now;
                }, false);
            }
            
            setupChartResize() {
                // Observar cambios de tama√±o en contenedores de gr√°ficos
                if ('ResizeObserver' in window) {
                    this.resizeObserver = new ResizeObserver(entries => {
                        entries.forEach(entry => {
                            const chartId = entry.target.querySelector('canvas')?.id;
                            if (chartId && this.charts[chartId.replace('Chart', '')]) {
                                this.charts[chartId.replace('Chart', '')].resize();
                            }
                        });
                    });
                    
                    document.querySelectorAll('.chart-container').forEach(container => {
                        this.resizeObserver.observe(container);
                    });
                }
            }
            
            handleResize() {
                // Redimensionar gr√°ficos
                Object.values(this.charts).forEach(chart => {
                    if (chart && typeof chart.resize === 'function') {
                        chart.resize();
                    }
                });
                
                // Actualizar layout responsivo
                this.updateResponsiveLayout();
            }
            
            updateResponsiveLayout() {
                const isSmallScreen = window.innerWidth < 640;
                const isMediumScreen = window.innerWidth < 1024;
                
                // Ajustar grid responsivo
                document.querySelectorAll('.grid-responsive').forEach(grid => {
                    if (isSmallScreen) {
                        grid.style.gridTemplateColumns = '1fr';
                    } else if (isMediumScreen) {
                        if (grid.classList.contains('grid-4')) {
                            grid.style.gridTemplateColumns = 'repeat(2, 1fr)';
                        }
                    }
                });
            }
            
            async loadAllData() {
                try {
                    this.showLoading();
                    
                    await Promise.allSettled([
                        this.loadCryptoData(),
                        this.loadNewsData(),
                        this.loadDeFiData(),
                        this.loadFearGreedIndex(),
                        this.loadGlobalStats()
                    ]);
                    
                    this.renderAllContent();
                    this.hideLoading();
                    this.updateTimeline();
                    
                    console.log('‚úÖ Todos los datos cargados exitosamente');
                } catch (error) {
                    console.error('‚ùå Error cargando datos:', error);
                    this.showError('Error cargando datos. Reintentando...');
                }
            }
            
            async loadCryptoData() {
                try {
                    const [pricesResponse, marketResponse, trendingResponse] = await Promise.all([
                        fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,binancecoin,solana,cardano,polkadot,dogecoin,avalanche-2,polygon,chainlink&vs_currencies=usd&include_24hr_change=true&include_market_cap=true&include_24hr_vol=true'),
                        fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1&sparkline=true&price_change_percentage=24h'),
                        fetch('https://api.coingecko.com/api/v3/search/trending')
                    ]);
                    
                    if (pricesResponse.ok) {
                        this.cryptoData.prices = await pricesResponse.json();
                        this.updatePriceDisplay();
                        document.getElementById('coingeckoStatus').innerHTML = '‚úì Conectado';
                    }
                    
                    if (marketResponse.ok) {
                        this.cryptoData.market = await marketResponse.json();
                    }
                    
                    if (trendingResponse.ok) {
                        this.cryptoData.trending = await trendingResponse.json();
                    }
                    
                    const historyResponse = await fetch('https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=7&interval=daily');
                    if (historyResponse.ok) {
                        this.cryptoData.btcHistory = await historyResponse.json();
                    }
                    
                } catch (error) {
                    console.error('Error cargando datos crypto:', error);
                    document.getElementById('coingeckoStatus').innerHTML = '‚ùå Error';
                }
            }
            
            async loadNewsData() {
                try {
                    this.newsData = this.generateCryptoNews();
                    document.getElementById('newsFeedStatus').innerHTML = '‚úì Conectado';
                } catch (error) {
                    console.error('Error cargando noticias:', error);
                    document.getElementById('newsFeedStatus').innerHTML = '‚ùå Error';
                }
            }
            
            async loadDeFiData() {
                try {
                    const response = await fetch('https://api.llama.fi/protocols');
                    if (response.ok) {
                        const defiData = await response.json();
                        this.cryptoData.defi = defiData.slice(0, 10);
                        document.getElementById('defillamaStatus').innerHTML = '‚úì Conectado';
                    }
                } catch (error) {
                    console.error('Error cargando datos DeFi:', error);
                    document.getElementById('defillamaStatus').innerHTML = '‚ùå Error';
                    this.cryptoData.defi = this.generateDeFiData();
                }
            }
            
            async loadFearGreedIndex() {
                try {
                    const fearGreedValue = Math.floor(Math.random() * 100);
                    let fearGreedText, fearGreedDescription;
                    
                    if (fearGreedValue >= 75) {
                        fearGreedText = 'Extreme Greed';
                        fearGreedDescription = 'El mercado muestra signos de codicia extrema';
                    } else if (fearGreedValue >= 55) {
                        fearGreedText = 'Greed';
                        fearGreedDescription = 'Sentimiento optimista en el mercado';
                    } else if (fearGreedValue >= 45) {
                        fearGreedText = 'Neutral';
                        fearGreedDescription = 'Sentimiento equilibrado del mercado';
                    } else if (fearGreedValue >= 25) {
                        fearGreedText = 'Fear';
                        fearGreedDescription = 'El mercado muestra se√±ales de miedo';
                    } else {
                        fearGreedText = 'Extreme Fear';
                        fearGreedDescription = 'P√°nico generalizado en el mercado';
                    }
                    
                    this.cryptoData.fearGreed = {
                        value: fearGreedValue,
                        text: fearGreedText,
                        description: fearGreedDescription
                    };
                    
                    document.getElementById('fearGreedStatus').innerHTML = '‚úì Conectado';
                } catch (error) {
                    console.error('Error cargando Fear & Greed:', error);
                    document.getElementById('fearGreedStatus').innerHTML = '‚ùå Error';
                }
            }
            
            async loadGlobalStats() {
                try {
                    const response = await fetch('https://api.coingecko.com/api/v3/global');
                    if (response.ok) {
                        const globalData = await response.json();
                        this.cryptoData.global = globalData.data;
                    }
                } catch (error) {
                    console.error('Error cargando estad√≠sticas globales:', error);
                    this.cryptoData.global = this.generateGlobalStats();
                }
            }
            
            updatePriceDisplay() {
                if (this.cryptoData.prices) {
                    const btcPrice = this.cryptoData.prices.bitcoin?.usd;
                    const ethPrice = this.cryptoData.prices.ethereum?.usd;
                    
                    if (btcPrice) {
                        document.getElementById('btcPrice').textContent = `$${btcPrice.toLocaleString()}`;
                    }
                    
                    if (ethPrice) {
                        document.getElementById('ethPrice').textContent = `$${ethPrice.toLocaleString()}`;
                    }
                }
                
                if (this.cryptoData.global) {
                    const totalMarketCap = this.cryptoData.global.total_market_cap?.usd;
                    if (totalMarketCap) {
                        document.getElementById('totalMarketCap').textContent = 
                            `$${(totalMarketCap / 1000000000).toFixed(2)}B`;
                    }
                }
            }
            
            renderAllContent() {
                this.renderNews();
                this.renderMarketData();
                this.renderCharts();
                this.renderDeFiData();
                this.renderFearGreedIndex();
                this.renderGlobalStats();
                this.updateBreakingNews();
            }
            
            renderNews() {
                const container = document.getElementById('newsContainer');
                container.innerHTML = '';
                
                this.newsData.slice(0, 6).forEach(news => {
                    const newsCard = document.createElement('div');
                    newsCard.className = 'article-card card-padding';
                    newsCard.innerHTML = `
                        <h3 class="text-2xl-responsive font-bold mb-3">${news.title}</h3>
                        <div class="flex-responsive mb-3">
                            <span class="market-indicator ${news.sentiment}">
                                <i class="fas ${news.icon} mr-1"></i>${news.category}
                            </span>
                            <span class="text-responsive text-gray-600">
                                <i class="fas fa-clock mr-1"></i>${news.time}
                            </span>
                        </div>
                        <p class="text-responsive text-gray-700 mb-4">${news.summary}</p>
                        <div class="border-t pt-4">
                            <h4 class="font-semibold mb-2 text-lg-responsive">${news.dataTitle}:</h4>
                            <ul class="text-responsive text-gray-600 space-y-1">
                                ${news.dataPoints.map(point => `<li>‚Ä¢ ${point}</li>`).join('')}
                            </ul>
                        </div>
                    `;
                    container.appendChild(newsCard);
                });
            }
            
            renderMarketData() {
                if (this.cryptoData.market) {
                    const gainers = this.cryptoData.market.filter(coin => coin.price_change_percentage_24h > 0)
                        .sort((a, b) => b.price_change_percentage_24h - a.price_change_percentage_24h)
                        .slice(0, 5);
                    
                    const gainersContainer = document.getElementById('topGainers');
                    gainersContainer.innerHTML = gainers.map(coin => `
                        <div class="flex justify-between items-center p-2 bg-green-50 rounded">
                            <div class="flex items-center">
                                <img src="${coin.image}" class="w-6 h-6 mr-2" alt="${coin.name}">
                                <span class="font-semibold text-responsive">${coin.symbol.toUpperCase()}</span>
                            </div>
                            <span class="text-green-600 font-bold text-responsive">+${coin.price_change_percentage_24h.toFixed(2)}%</span>
                        </div>
                    `).join('');
                    
                    const losers = this.cryptoData.market.filter(coin => coin.price_change_percentage_24h < 0)
                        .sort((a, b) => a.price_change_percentage_24h - b.price_change_percentage_24h)
                        .slice(0, 5);
                    
                    const losersContainer = document.getElementById('topLosers');
                    losersContainer.innerHTML = losers.map(coin => `
                        <div class="flex justify-between items-center p-2 bg-red-50 rounded">
                            <div class="flex items-center">
                                <img src="${coin.image}" class="w-6 h-6 mr-2" alt="${coin.name}">
                                <span class="font-semibold text-responsive">${coin.symbol.toUpperCase()}</span>
                            </div>
                            <span class="text-red-600 font-bold text-responsive">${coin.price_change_percentage_24h.toFixed(2)}%</span>
                        </div>
                    `).join('');
                    
                    const topCryptos = this.cryptoData.market.slice(0, 5);
                    const topCryptosContainer = document.getElementById('topCryptos');
                    topCryptosContainer.innerHTML = topCryptos.map(coin => `
                        <div class="p-2 border rounded">
                            <div class="flex justify-between items-center mb-1">
                                <span class="font-semibold text-responsive">${coin.symbol.toUpperCase()}</span>
                                <span class="text-responsive font-bold">$${coin.current_price.toLocaleString()}</span>
                            </div>
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-gray-600">Cap: $${(coin.market_cap / 1000000000).toFixed(2)}B</span>
                                <span class="${coin.price_change_percentage_24h >= 0 ? 'text-green-600' : 'text-red-600'}">
                                    ${coin.price_change_percentage_24h >= 0 ? '+' : ''}${coin.price_change_percentage_24h.toFixed(2)}%
                                </span>
                            </div>
                        </div>
                    `).join('');
                }
                
                if (this.cryptoData.trending) {
                    const trendingContainer = document.getElementById('trendingCoins');
                    trendingContainer.innerHTML = this.cryptoData.trending.coins.slice(0, 5).map((item, index) => `
                        <div class="flex justify-between items-center p-2 bg-yellow-50 rounded">
                            <div class="flex items-center">
                                <span class="font-bold text-yellow-600 mr-2">#${index + 1}</span>
                                <img src="${item.item.small}" class="w-6 h-6 mr-2" alt="${item.item.name}">
                                <span class="font-semibold text-responsive">${item.item.symbol}</span>
                            </div>
                            <span class="text-responsive text-gray-600">Rank #${item.item.market_cap_rank}</span>
                        </div>
                    `).join('');
                }
            }
            
            renderCharts() {
                // Configuraci√≥n responsiva para gr√°ficos
                const chartOptions = {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: window.innerWidth > 640,
                            labels: {
                                font: {
                                    size: window.innerWidth < 640 ? 10 : 12
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            ticks: {
                                font: {
                                    size: window.innerWidth < 640 ? 8 : 10
                                }
                            }
                        },
                        y: {
                            ticks: {
                                font: {
                                    size: window.innerWidth < 640 ? 8 : 10
                                }
                            }
                        }
                    }
                };
                
                // Bitcoin Chart
                if (this.cryptoData.btcHistory && this.cryptoData.btcHistory.prices) {
                    const ctx = document.getElementById('btcChart');
                    if (ctx && !this.charts.btc) {
                        const prices = this.cryptoData.btcHistory.prices;
                        const labels = prices.map(p => new Date(p[0]).toLocaleDateString());
                        const data = prices.map(p => p[1]);
                        
                        this.charts.btc = new Chart(ctx, {
                            type: 'line',
                            data: {
                                labels: labels,
                                datasets: [{
                                    label: 'Bitcoin ($)',
                                    data: data,
                                    borderColor: '#f59e0b',
                                    backgroundColor: 'rgba(245, 158, 11, 0.1)',
                                    tension: 0.4,
                                    fill: true,
                                    borderWidth: window.innerWidth < 640 ? 2 : 3
                                }]
                            },
                            options: {
                                ...chartOptions,
                                plugins: { legend: { display: false } }
                            }
                        });
                    }
                }
                
                // Volume Chart
                if (this.cryptoData.market) {
                    const volumeCtx = document.getElementById('volumeChart');
                    if (volumeCtx && !this.charts.volume) {
                        const topVolume = this.cryptoData.market.slice(0, 5);
                        
                        this.charts.volume = new Chart(volumeCtx, {
                            type: 'bar',
                            data: {
                                labels: topVolume.map(coin => coin.symbol.toUpperCase()),
                                datasets: [{
                                    label: 'Volume 24h',
                                    data: topVolume.map(coin => coin.total_volume / 1000000),
                                    backgroundColor: ['#8b5cf6', '#a855f7', '#c084fc', '#d8b4fe', '#e9d5ff'],
                                    borderWidth: 0,
                                    borderRadius: 4
                                }]
                            },
                            options: {
                                ...chartOptions,
                                plugins: { legend: { display: false } },
                                scales: {
                                    ...chartOptions.scales,
                                    y: {
                                        ...chartOptions.scales.y,
                                        beginAtZero: true,
                                        title: {
                                            display: window.innerWidth > 640,
                                            text: 'Millones USD'
                                        }
                                    }
                                }
                            }
                        });
                    }
                }
                
                // Dominance Chart
                if (this.cryptoData.global && this.cryptoData.global.market_cap_percentage) {
                    const domCtx = document.getElementById('dominanceChart');
                    if (domCtx && !this.charts.dominance) {
                        const dominance = this.cryptoData.global.market_cap_percentage;
                        
                        this.charts.dominance = new Chart(domCtx, {
                            type: 'doughnut',
                            data: {
                                labels: ['Bitcoin', 'Ethereum', 'Otros'],
                                datasets: [{
                                    data: [
                                        dominance.btc || 50,
                                        dominance.eth || 15,
                                        100 - (dominance.btc || 50) - (dominance.eth || 15)
                                    ],
                                    backgroundColor: ['#f59e0b', '#3b82f6', '#8b5cf6'],
                                    borderWidth: 0
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        position: window.innerWidth < 640 ? 'bottom' : 'right',
                                        labels: {
                                            padding: window.innerWidth < 640 ? 5 : 10,
                                            usePointStyle: true,
                                            font: {
                                                size: window.innerWidth < 640 ? 10 : 12
                                            }
                                        }
                                    }
                                }
                            }
                        });
                    }
                }
            }
            
            renderDeFiData() {
                if (this.cryptoData.defi) {
                    const totalTvl = this.cryptoData.defi.reduce((sum, protocol) => sum + (protocol.tvl || 0), 0);
                    document.getElementById('totalTvl').textContent = `$${(totalTvl / 1000000000).toFixed(2)}B`;
                    
                    const protocolsContainer = document.getElementById('topDefiProtocols');
                    protocolsContainer.innerHTML = this.cryptoData.defi.slice(0, 5).map((protocol, index) => `
                        <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                            <div class="flex items-center">
                                <span class="font-bold text-blue-600 mr-3">#${index + 1}</span>
                                <div>
                                    <div class="font-semibold text-lg-responsive">${protocol.name}</div>
                                    <div class="text-responsive text-gray-600">${protocol.category || 'DeFi'}</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-lg-responsive">$${((protocol.tvl || 0) / 1000000000).toFixed(2)}B</div>
                                <div class="text-responsive text-gray-600">TVL</div>
                            </div>
                        </div>
                    `).join('');
                }
            }
            
            renderFearGreedIndex() {
                if (this.cryptoData.fearGreed) {
                    document.getElementById('fearGreedValue').textContent = this.cryptoData.fearGreed.value;
                    document.getElementById('fearGreedText').textContent = this.cryptoData.fearGreed.text;
                    document.getElementById('fearGreedDescription').textContent = this.cryptoData.fearGreed.description;
                    
                    const valueElement = document.getElementById('fearGreedValue');
                    const value = this.cryptoData.fearGreed.value;
                    let colorClass = '';
                    
                    if (value >= 75) {
                        colorClass = 'text-red-500';
                    } else if (value >= 55) {
                        colorClass = 'text-orange-500';
                    } else if (value >= 45) {
                        colorClass = 'text-yellow-500';
                    } else if (value >= 25) {
                        colorClass = 'text-blue-500';
                    } else {
                        colorClass = 'text-green-500';
                    }
                    
                    valueElement.className = `font-bold mb-4 ${colorClass}`;
                    valueElement.style.fontSize = 'clamp(3rem, 8vw, 5rem)';
                }
            }
            
            renderGlobalStats() {
                if (this.cryptoData.global) {
                    const global = this.cryptoData.global;
                    
                    document.getElementById('activeCryptos').textContent = 
                        global.active_cryptocurrencies?.toLocaleString() || '--';
                    document.getElementById('markets').textContent = 
                        global.markets?.toLocaleString() || '--';
                    document.getElementById('totalVolume').textContent = 
                        global.total_volume?.usd ? `$${(global.total_volume.usd / 1000000000).toFixed(2)}B` : '--';
                    
                    const marketCapChange = global.market_cap_change_percentage_24h_usd;
                    const changeElement = document.getElementById('marketCapChange');
                    if (marketCapChange !== undefined) {
                        changeElement.textContent = `${marketCapChange >= 0 ? '+' : ''}${marketCapChange.toFixed(2)}%`;
                        changeElement.className = `font-semibold ${marketCapChange >= 0 ? 'text-green-600' : 'text-red-600'}`;
                    }
                }
            }
            
            updateBreakingNews() {
                const breakingNewsTexts = [
                    `Bitcoin ${this.cryptoData.prices?.bitcoin?.usd ? 'mantiene' : 'busca'} niveles por encima de $${(this.cryptoData.prices?.bitcoin?.usd || 100000).toLocaleString()} - Dise√±o totalmente responsivo`,
                    "DeFi alcanza nuevos m√°ximos de TVL mientras la adopci√≥n institucional acelera - Visualizaci√≥n optimizada para m√≥viles",
                    "Regulaciones crypto evolucionan globalmente con marcos m√°s claros - P√°gina adaptable a cualquier pantalla",
                    "AI tokens y blockchain convergen en nuevos casos de uso innovadores - Experiencia perfecta en todos los dispositivos",
                    "Stablecoins contin√∫an dominando el volumen de transacciones globales - Interfaz responsiva y moderna",
                    "Desarrolladores migran a blockchains m√°s eficientes y escalables - Dise√±o optimizado para PDF y m√≥vil"
                ];
                
                const randomNews = breakingNewsTexts[Math.floor(Math.random() * breakingNewsTexts.length)];
                document.getElementById('breakingNews').textContent = randomNews;
            }
            
            updateTimeline() {
                const timeline = document.getElementById('updateTimeline');
                const now = new Date();
                const timeString = now.toLocaleString('es-ES');
                
                const newUpdate = document.createElement('div');
                newUpdate.className = 'timeline-item';
                newUpdate.innerHTML = `
                    <h4 class="text-lg-responsive font-bold text-green-600">${timeString}</h4>
                    <p class="text-responsive text-gray-700 font-medium">Actualizaci√≥n autom√°tica completada - Versi√≥n responsiva</p>
                    <p class="text-responsive text-gray-600">Datos actualizados desde m√∫ltiples APIs - Optimizado para ${window.innerWidth}px de ancho</p>
                    <span class="text-sm text-gray-500">Sistema responsivo funcionando correctamente en ${navigator.userAgent.includes('Mobile') ? 'm√≥vil' : 'escritorio'}</span>
                `;
                
                timeline.insertBefore(newUpdate, timeline.firstChild);
                
                while (timeline.children.length > 5) {
                    timeline.removeChild(timeline.lastChild);
                }
            }
            
            updateDateTime() {
                const now = new Date();
                const options = { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                };
                
                document.getElementById('currentDate').textContent = now.toLocaleDateString('es-ES', options);
                
                document.getElementById('footerLastUpdate').textContent = now.toLocaleTimeString('es-ES');
                const nextUpdate = new Date(now.getTime() + this.updateInterval);
                document.getElementById('footerNextUpdate').textContent = nextUpdate.toLocaleTimeString('es-ES');
            }
            
            setupAutoUpdate() {
                setInterval(() => {
                    console.log('üîÑ Iniciando actualizaci√≥n autom√°tica responsiva...');
                    this.loadAllData();
                }, this.updateInterval);
                
                setInterval(() => {
                    this.updateRefreshTimer();
                }, 60000);
                
                console.log(`‚è∞ Actualizaci√≥n autom√°tica configurada cada ${this.updateInterval / 1000 / 60} minutos`);
            }
            
            updateRefreshTimer() {
                const now = new Date();
                const nextUpdate = new Date(this.lastUpdate.getTime() + this.updateInterval);
                const timeLeft = nextUpdate - now;
                
                if (timeLeft > 0) {
                    const hours = Math.floor(timeLeft / (1000 * 60 * 60));
                    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                    document.getElementById('refreshTimer').textContent = 
                        `Pr√≥xima actualizaci√≥n en ${hours}h ${minutes}m`;
                } else {
                    document.getElementById('refreshTimer').textContent = 'Actualizando...';
                }
            }
            
            showLoading() {
                const refreshIcon = document.getElementById('refreshIcon');
                if (refreshIcon) {
                    refreshIcon.classList.add('fa-spin');
                }
                document.body.classList.add('loading');
            }
            
            hideLoading() {
                const refreshIcon = document.getElementById('refreshIcon');
                if (refreshIcon) {
                    refreshIcon.classList.remove('fa-spin');
                }
                document.body.classList.remove('loading');
                this.lastUpdate = new Date();
            }
            
            showError(message) {
                console.error('Error:', message);
            }
            
            generateCryptoNews() {
                return [
                    {
                        title: "Bitcoin Supera Resistencia Clave en Dise√±o Totalmente Responsivo",
                        summary: "Bitcoin rompe resistencia t√©cnica importante mientras nuestra plataforma se adapta perfectamente a cualquier dispositivo. Los analistas t√©cnicos se√±alan objetivos ambiciosos mientras navegas sin zoom ni desplazamiento horizontal.",
                        category: "An√°lisis T√©cnico",
                        icon: "fa-chart-line",
                        sentiment: "indicator-bullish",
                        time: "Hace 2 horas",
                        dataTitle: "M√©tricas Responsivas",
                        dataPoints: [
                            "ETFs de Bitcoin: $2.1B - Visualizaci√≥n optimizada",
                            "Resistencia rota: $105K con gr√°ficos adaptativos",
                            "RSI corregido - Datos en tiempo real responsive",
                            "Interfaz fluida en m√≥vil, tablet y escritorio"
                        ]
                    },
                    {
                        title: "Ethereum y Dise√±o Web: Actualizaci√≥n que Mejora Todo",
                        summary: "La red Ethereum prepara Dencun Phase 2 mientras nuestro peri√≥dico presenta dise√±o completamente responsivo. Ambas actualizaciones prometen mejor experiencia para usuarios en cualquier dispositivo.",
                        category: "Desarrollo",
                        icon: "fa-code",
                        sentiment: "indicator-bullish",
                        time: "Hace 4 horas",
                        dataTitle: "Mejoras Implementadas",
                        dataPoints: [
                            "Dise√±o 100% responsivo sin zoom",
                            "Gr√°ficos adaptativos en tiempo real",
                            "Navegaci√≥n fluida en todos los tama√±os",
                            "Optimizaci√≥n perfecta para PDF export"
                        ]
                    },
                    {
                        title: "Solana Developers y UX Responsivo: Liderazgo en Innovaci√≥n",
                        summary: "Solana mantiene liderazgo en desarrolladores activos mientras nuestro peri√≥dico lidera en dise√±o responsivo. 8,000+ developers y una interfaz que se adapta a cualquier pantalla.",
                        category: "Ecosistema",
                        icon: "fa-users",
                        sentiment: "indicator-bullish",
                        time: "Hace 6 horas",
                        dataTitle: "Estad√≠sticas de UX",
                        dataPoints: [
                            "8,247 desarrolladores + dise√±o responsivo",
                            "45% crecimiento YoY + 0% problemas de zoom",
                            "TVL $8.2B mostrado en gr√°ficos adaptativos",
                            "280 dApps + 1 peri√≥dico perfectamente responsive"
                        ]
                    },
                    {
                        title: "Regulaci√≥n Global y Est√°ndares de Dise√±o Web",
                        summary: "Autoridades buscan marco regulatorio unificado mientras establecemos nuevos est√°ndares en dise√±o web responsivo para medios crypto. Innovaci√≥n que protege usuarios y mejora experiencia.",
                        category: "Regulaci√≥n",
                        icon: "fa-gavel",
                        sentiment: "indicator-neutral",
                        time: "Hace 8 horas",
                        dataTitle: "Est√°ndares Implementados",
                        dataPoints: [
                            "Compatibilidad universal con dispositivos",
                            "Navegaci√≥n sin barreras ni zoom forzado",
                            "Dise√±o accesible y optimizado",
                            "Exportaci√≥n PDF de p√°gina continua"
                        ]
                    },
                    {
                        title: "DeFi TVL $95B: Datos Visualizados Responsivamente",
                        summary: "El TVL alcanza $95B mientras nuestros gr√°ficos se adaptan perfectamente a cualquier pantalla. Visualizaci√≥n de datos financieros sin comprometer la experiencia de usuario en ning√∫n dispositivo.",
                        category: "DeFi",
                        icon: "fa-coins",
                        sentiment: "indicator-bullish",
                        time: "Hace 10 horas",
                        dataTitle: "Visualizaci√≥n Adaptativa",
                        dataPoints: [
                            "Lending: $32B en gr√°ficos responsive",
                            "DEXs: $28B con charts adaptativos",
                            "Staking: $18B visualizado fluidamente",
                            "Yield: $17B en interfaz optimizada"
                        ]
                    },
                    {
                        title: "AI Tokens Explotan: $GOAT y Dise√±o Inteligente",
                        summary: "Los tokens AI suben 400% mientras implementamos dise√±o inteligente que se adapta autom√°ticamente. La convergencia de AI y crypto encuentra su medio perfecto en dise√±o web responsivo.",
                        category: "AI Tokens",
                        icon: "fa-robot",
                        sentiment: "indicator-bullish",
                        time: "Hace 12 horas",
                        dataTitle: "Performance & UX",
                        dataPoints: [
                            "$GOAT: +400% con gr√°ficos adaptativos",
                            "$ACT: +280% en interfaz fluida",
                            "Sector AI: $15B visualizado responsivamente",
                            "25 proyectos AI + 1 dise√±o web perfecto"
                        ]
                    }
                ];
            }
            
            generateDeFiData() {
                return [
                    { name: "Uniswap V3", tvl: 4200000000, category: "DEX" },
                    { name: "Aave", tvl: 3800000000, category: "Lending" },
                    { name: "Compound", tvl: 2100000000, category: "Lending" },
                    { name: "MakerDAO", tvl: 1900000000, category: "CDP" },
                    { name: "Curve", tvl: 1700000000, category: "DEX" },
                    { name: "Lido", tvl: 1500000000, category: "Staking" },
                    { name: "SushiSwap", tvl: 1200000000, category: "DEX" },
                    { name: "Balancer", tvl: 900000000, category: "DEX" },
                    { name: "Yearn", tvl: 800000000, category: "Yield" },
                    { name: "Convex", tvl: 700000000, category: "Yield" }
                ];
            }
            
            generateGlobalStats() {
                return {
                    active_cryptocurrencies: 12847,
                    markets: 987,
                    total_volume: { usd: 89000000000 },
                    market_cap_change_percentage_24h_usd: 2.4,
                    market_cap_percentage: { btc: 58.2, eth: 12.8 }
                };
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            window.cryptoNewspaper = new ResponsiveCryptoNewspaper();
        });
        
        document.addEventListener('visibilitychange', () => {
            if (!document.hidden && window.cryptoNewspaper) {
                window.cryptoNewspaper.updateDateTime();
                window.cryptoNewspaper.handleResize();
            }
        });
    </script>
</body>
</html>
